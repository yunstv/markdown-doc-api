## 网关对内请求转发规范

### 转发方式
| 规则 | 描述 |
|:---:|:-----|
| 传输方式 | 建议HTTPS，因为现在服务分布在不同的机房，转发请求可能需要通过公网 |
| 请求方法 | POST |
| 字符编码 | 统一采用UTF-8编码 |
| 响应格式 | 统一采用JSON格式 |

### 开放平台网关公钥

**测试环境**

```
MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDRSPnB9xl4z6+ULnjtumv4iXR0sQl+H5katFZk6SBFpy4LyKQ3KUzqS8CCjy/V9sEGmpTZd2kyEtHceJBOUuKlGZqd869xWk5P8Q2sSi2VHPO6Jc/IZ1rlTnoHS6bIZ3C9lYYIlOfJWbVv4NevFyrqB6GJThajsw4RX3S8rRK9kwIDAQAB
```

**生产环境**

```
MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCBs5m+e0AdO82du1MWz1NMI9DHp8uWlokt9IMnMswwME/LtFNrHcX8olr3tGk9LCSd1Y0wuHms59KQC7vkY0H/+i+t/FHZoZOOvwEAqC2v3F+ibu6HnEFGX3UjTmxeD5vChch6y1+VUluzrTk15i5vh/wAnl5C+O/5u1AkwKz9PQIDAQAB
```

#### 1.请求头

| 参数名称 | 参数类型 | 是否必选 | 描述 | 示例 |
|---------|--------|---------|-----|------|
| app-id | String | 是 | 请求方appId | E001000001 |
| biz-user-id | String | 是 | 请求方用户编号 |  |
| request-id | String | 是 | 请求编号 |  |
| timestamp | Long | 是 | 13位时间戳 |  |
| sign | String | 是 | 以上四个参数签名,具体签名方法参考网关转发签名部分 |  |
| user-no| String | 是 | 用户编号 | |
| contract-type | String | 是 | 签约合同等级 | 1：标准，2：品牌，3：旗舰  可能为"" |
| app-type | String | 是 | 应用类型 | TYPE_01:自有应用<br />TYPE_02:ETC经纪管理端应用<br />TYPE_00:ETC经纪行业数字平台<br />TYPE_03:全房通<br />TYPE_04:寓小二<br />TYPE_05:麦滴<br />TYPE_06:寓盟 |
| company-name | String | 是 | 公司名称 | |
| company-short-name | String | 是 | 公司简称 |  |
| platform-source | String | 是 | 平台来源 | saas平台的商户来源为平台标识<br />TYPE_02 为ETC_SaaS<br />TYPE_03 为全房通<br />TYPE_04 为寓小二<br />TYPE_05 为麦滴<br />TYPE_06 为寓盟<br />旗舰店商户或品牌店商户，商户来源字段为当前商户的机构编号 |

#### 2. 请求体

json格式的requestBody

#### 3. 响应规范

| 参数名称 | 参数类型 | 是否必填 | 描述 | 示例 |
|---------|--------|---------|-----|------|
| code | String | 是 | 返回码 | ‘000’表示成功，其他表示失败 |
| msg | String | 否 | 错误信息 | 服务暂不可用 |
| data | Object | 否 | json格式业务返回值 | 具体响应内容必须放在data中 |

