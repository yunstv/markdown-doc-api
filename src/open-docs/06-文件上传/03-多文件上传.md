## 文件上传

#### 接口说明

* 适用对象 : 渠道参与方
* 请求类型 : POST
* apiCode : base.file.batch.upload

#### 请求参数

请求参数类型为**Map**

| 参数  | 是否必填 | 类型   | 最大长度 | 参数描述                               |
| ----- | -------- | ------ | -------- | -------------------------------------- |
| key   | 是       | String |          | map的key，用于响应时和url对应          |
| value | 是       | Object |          | 具体上传文件对象，和单文件上传参数一致 |

value类型参数

| 参数 | 是否必填 | 类型 | 最大长度 | 参数描述 |
|:----|:-------:|:-----|:-------|:--------|
| file_name | 是 | String | 32 | 文件名称 |
| file_type | 是 | String | 32 | 文件类型，IMAGE、FILE、VIDEO、VR  |
| file_sub_type | 否 | String | 32 | 图片文件类型，IMAGE: PNG、JPG、BMP、TIFF、WEBP |
| file | 否 | String |  | file需转为Base64，file和file_url不能同时为空，若同时有值时，file优先级更高。<br/>注意不要带图片BASE64前缀“data:image/jpeg;base64,” |
| file_url | 否 | String | 200 | 可公开访问的文件地址  |
| is_private | 否  | boolean | 32 | 默认为false |
| is_repeat_upload | 否  | boolean | 32 | 是否重复上传 默认true,<br/>当true时，会根据file_url查找以前是否已经上传过，如果有数据直接返回 |


#### 业务参数请求样例
```json
{
    "file1":{
        "file_name":"test1.png",
        "file_type":"IMAGE",
        "file_sub_type":"PNG",
        "file_url":"https://cdn.ebaas.com/1626142700370/rrrrr.jpg",
        "is_private":false
    },
    "file2":{
        "file_name":"test2.png",
        "file_type":"IMAGE",
        "file_sub_type":"PNG",
        "file_url":"http://test-etc-oss.ebaas.com/test1.png",
        "is_private":false
    }
}
```

#### 应答报文

应答报文类型为**Map**

| 参数 | 类型 | 最大长度 | 参数描述 | 示例值 |
|:----|:----|:--------|:--------|:------|
| key | String |  | 请求参数Map中的key |  |
| value | String | 200 | 文件访问地址 | |


#### 应答样例

```json
{
    "requestId":"eb053acf-66a0-4974-a7b4-2f2354460755",
    "code":"000",
    "msg":"成功",
    "data":{
        "file1": "https://test-etc-oss.ebaas.com/1111/IMAGE/1625038994106/aaaaaa!style0.jpg",
        "file2": "https://test-etc-oss.ebaas.com/1111/IMAGE/1625038994106/aaaaaa!style2.jpg"
    }
}
```

### 返回码
| 返回码 | 描述 | 解决方案 |
|:------|:----|:-----|
| 400 | 参数{paramName}不能为空 | 检查参数名称是否正确，参数是否赋值 |
|400100| 文件上传失败，请重新上传 | 重新进行文件上传 |

### 失败处理

一张图片处理失败即刻返回失败响应，重新上传需发送全量请求参数，is_repeat_upload参数**不填**或者传**true**，上传成功的图片后台会过滤。

