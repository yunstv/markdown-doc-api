## 配置中心－查询二手房佣金分配规则

#### 接口说明
* 适用对象 : 清分模块
* 请求类型 : POST
* 请求地址 ：/api/rule/commission4Secondhand

#### 请求参数

| 参数 | 描述 | 类型 | 是否必填 | 字段说明 |
|:----|:-----|:----|:-----|:----|
| commissionRuleNo | 佣金分配规则编号 | String | 是 |  |
| dealType | 成交类型 | String | 是 | 1、客房合作<br/>2、自房自售 |

#### 请求样例
```json
{
    "commissionRuleNo" : "RP100001",
    "dealType" : "1"
}
```

#### 应答报文
| 参数 | 描述 | 类型 | 字段说明 |
| :---- | :----- | ----- | ----- |
| commissionRuleNo | 佣金分配规则编号 | String |  |
| publicEstateType | 公盘类型 | String |  |
| contractType | 合同类型 | String | 1、买卖<br/>2、租赁 |
| dealType | 成交类型 | String | 1、客房合作<br/>2、自房自售 |
| houseServiceFee | 房源录入方服务费 | String | 2.00 |
| customerServiceFee | 客源归属方服务费 | String | 2.00 |
| platformServiceFeeExp | 平台服务费计算公式 | String | houseServiceFee + customerServiceFee |
| houseCommissionExp | 房源方佣金计算公式 | String | 佣金总额(EC000007) * 比例 -（  角色 == 房源录入人 ？ houseServiceFee ：0） |
| customerCommissionExp | 客源方应付佣金计算公式 | String | 房源方佣金合计金额（包含houseServiceFee） + customerServiceFee |

#### 应答样例
```json
{
    "requestId": null,
    "responseCode": "000",
    "responseMsg": "成功",
    "data": {
        "commissionRuleNo": "RP100001",
        "publicEstateType": "1",
        "contractType": "1",
        "dealType": "1",
        "houseServiceFee": "3.00",
        "customerServiceFee": "2.00",
        "platformServiceFeeExp": "${houseServiceFee?number + customerServiceFee?number}",
        "houseCommissionExp": "${EC000007?number * user.ratio?number - ((user.roleType?number == 1)?then(houseServiceFee, 0))?number}",
        "customerCommissionExp": "<#assign result=0><#list userList as user><#if user.roleType?? && user.ratio??><#assign result=result + (EC000007?number*user.ratio?number)></#if></#list>${result+customerServiceFee?number}"
    }
}
```

#### 附录 
##### 二手房佣金分配角色
| roleType | roleTypeName |
| :---- | :----- |
| 1 | 录入人 |
| 2 | 实勘人 |
| 3 | 钥匙人 |
| 4 | 独家人 |
| 5 | 第一维护人 |
| 6 | 第二维护人 |
| 7 | 第三维护人 |
| 8 | 证件人 |