## 一步发起签署接口

#### 接口说明
* 接口说明 : 聚合创建流程接口，一步添加待签文件、相关附件、流程基本信息、签署方。支持自动开启、自动归档。该接口为异步接口。
* 适用对象 : 接入电子签的商户
* 请求类型 : POST
* apiCode : esign.signflows.createFlowOneStep

#### 请求参数
| 参数 | 是否必填 | 类型 | 最大长度 | 参数描述 |
|:----|:-------:|:-----|:-------|:--------|
| fileUrl | 是 | String | 128 | 签署文件url |
| fileName | 是 | String | 128 | 签署文件名(pdf格式，必需带上后缀名),<br/>注意：文件名称不支持以下9个字符：/ \ : * " < > &#124; ？|
| notifyUrl | 是 | String | 128 | 签署完成回调通知地址 |
| signValidity | 否 | String | 255 | 签署有效截止时间（毫秒），默认不失效 |
| finishNotifyFlag | 否 | boolean | 1 | 签署流程完成后是否通知法人，该参数仅在机构静默签署时有效，默认为true |
| signers | 是 | object |  | 签署方信息 |
| initiatorAccount | 是 | object |  | 发起方  |
| signOrder | 否 | Integer | 64 | 签署方签署顺序，默认1,且不小于1，顺序越小越先处理 |
| etc_member_no | 是 | String | 64 | etc会员编号 |
| signfields | 是 | array |  | 签署方签署区信息  |
| autoExecute | 否 | boolean | 1 | 是否自动签署（若需要自动签署必须设置为true，默认为true） |
| signType | 否 | int | 32 | 签署类型，0-不限，1-单页签署，2-骑缝签署，默认1 |
| actorIndentityType | 否 | String | 32 | 机构签约类别，2-机构盖章，（自动签署时，无需传入该参数） |
| width | 是 | String | 64 | 签署区宽度 |
| signBean | 是 | object | | 签署印章位置信息 |
| posBean | 是 | array |  | 签署印章位置信息对象，<br/>signType为0时，本参数无效<br/>signType为1时, 页码和XY坐标不能为空,<br/>signType为2时, 页码和Y坐标不能为空 |
| posPage | 是 | String | 64 | 页码信息，当签署区signType为2时, 页码可以'-'分割指定页码范围, 传all代表全部页码。其他情况只能是数字 |
| posX | 是 | String | 64 | x坐标 |
| posY | 是 | String | 64 | y坐标 |
| signDateBean | 否 | object | | 签署日期信息 |
| fontSize | 否 | String | 64 | 签章日期字体大小（signDateBean不为空时，必填） |
| format | 否 | String | 64 | 签章日期格式，yyyy年MM月dd日 （signDateBean不为空时，必填） |
| posBean | 否 | array |  | 签署日期位置信息 （signDateBean不为空时，必填） |
| posPage | 否 | String | 64 | 页码信息（signDateBean不为空时，必填） |
| posX | 否 | String | 64 | x坐标（signDateBean不为空时，必填） |
| posY | 否 | String | 64 | y坐标（signDateBean不为空时，必填） |
| signerAccount | 是 | array |  | 签署人账号信息  |
| signOrder | 否 | Integer | 64 | 签署方签署顺序，默认1,且不小于1，顺序越小越先处理 |
| name | 是 | String | 64 | 姓名 |
| idNumber | 是 | String | 18 | 身份证号 |
| mobile | 是 | String | 11 | 手机号 |
| signfields | 是 | array |  | 签署方签署区信息  |
| signType | 否 | int | 32 | 签署类型，0-不限，1-单页签署，2-骑缝签署，默认1 |
| width | 否 | String | 64 | 签署区宽度 |
| sealType | 否 | String | 64 | 签署方式，个人签署时支持多种签署方式,<br/>0:手绘签名，1:模板印章签名，多种类型时逗号分割，为空不限制 |
| signBean | 是 | object | | 签署印章位置信息 |
| posBean | 是 | array |  | 签署印章位置信息对象,<br/>signType为0时，本参数无效<br/>signType为1时, 页码和XY坐标不能为空,<br/>signType为2时, 页码和Y坐标不能为空 |
| posPage | 是 | String | 64 | 页码信息，当签署区signType为2时, 页码可以'-'分割指定页码范围, 传all代表全部页码。其他情况只能是数字 |
| posX | 是 | String | 64 | x坐标 |
| posY | 是 | String | 64 | y坐标 |
| signDateBean | 否 | object | | 签署日期信息 |
| fontSize | 否 | String | 64 | 签章日期字体大小（signDateBean不为空时，必填） |
| format | 否 | String | 64 | 签章日期格式,支持:yyyy年MM月dd日,yyyy-MM-dd,yyyy/MM/dd （signDateBean不为空时，必填） |
| posBean | 否 | array |  | 签署日期位置信息 （signDateBean不为空时，必填） |
| posPage | 否 | String | 64 | 页码信息（signDateBean不为空时，必填） |
| posX | 否 | String | 64 | x坐标（signDateBean不为空时，必填） |
| posY | 否 | String | 64 | y坐标（signDateBean不为空时，必填） |


#### 业务参数请求样例
```
{
    "fileUrl": "https://cdn.ebaas.com/1615532606479/天机测试.pdf",
    "fileName": "天机测试.pdf",
    "notifyUrl": "https://test-svc.fangyou.com/sharing-contract/sign/etc/return/fy/x/anony/x/fy",
    "signValidity": "1623894057612",
    "finishNotifyFlag": true,
    "signers": {
        "initiatorAccount": {
            "signOrder": 2,
            "etc_member_no": "872b5c7a35bb4e2dac397b3460c08264",
            "signfields": [
                {
                    "autoExecute": true,
                    "signType": 1,
                    "actorIndentityType": "2",
                    "width": "150",
                    "signBean": {
                        "posBean": [
                            {
                                "posPage": "1",
                                "posX": "150",
                                "posY": "150"
                            }
                        ]
                    },
                    "signDateBean": {
                        "fontSize": "10",
                        "format": "yyyy年MM月dd日",
                        "posBean": [
                            {
                                "posPage": "1",
                                "posX": "450",
                                "posY": "450"
                            }
                        ]
                    }
                },
                {
                    "autoExecute": true,
                    "signType": 2,
                    "actorIndentityType": "2",
                    "width": "100",
                    "signBean": {
                        "posBean": [
                            {
                                "posPage": "all",
                                "posX": "150",
                                "posY": "150"
                            }
                        ]
                    }                 
                }
            ]
        },
        "signerAccount": [
            {
                "signOrder": 1,
                "name": "陈",
                "idNumber": "340000000000000000",
                "mobile": "18500000000",
                "signfields": {
                    "signType": 1,
                    "width": "150",
                    "sealType": "0",
                    "signBean": {
                        "posBean": [
                            {
                                "posPage": "1",
                                "posX": "450",
                                "posY": "450"
                            }
                        ]
                    },
                    "signDateBean": {
                        "fontSize": "10",
                        "format": "yyyy年MM月dd日",
                        "posBean": [
                            {
                                "posPage": "1",
                                "posX": "450",
                                "posY": "450"
                            }
                        ]
                    }
                }
            }
        ]
    }
}
```

#### 应答报文

| 参数 | 类型 | 最大长度 | 参数描述 | 示例值 |
|:----|:----|:--------|:--------|:------|
| flowRequestId | String | 64 | 流程请求id, <br/>其余接口中的流程id，在一步发起签署流程结果回调接口中获取，详见“09-ETC回调通知” |  |


#### 应答样例

```
{
    "requestId": "42dd6c6e-247e-487f-87e8-dd97067b877b",
    "responseCode": "000",
    "responseMsg": "成功",
    "data": {
        "flowRequestId": "5zuoUOcBuN0uRusZlsYC"  
    }
}
```