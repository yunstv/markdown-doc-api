## 房源库－挂牌上架

#### 接口说明
* 适用对象 : 渠道参与方
* 请求类型 : POST
* apiCode : loupan.service.sale

#### 请求参数
| 参数 | 是否必填 | 类型 | 最大长度 | 参数描述 | 示例值 |
|:----|:-------:|:-----|:-------|:--------|:------|
| etc_ecode | 是 | String | 32 | E码编号 |  |
| etc_process_no | 是 | String | 32 | ETC流程编号 |  |
| etc_commission_rule_no | 否 | String | 32 | ETC佣金规则编号 |  |
| etc_broker_id | 否 | String | 32 | 经纪人编号（创建人） |  |
| src_room_id | 是 | String | 32 | 新房项目ID或者二手房房源ID | 需修正 |
| selling_price | 否 | String | 16 | 售价（二手房字段） | 需修正 |
| <b>project_info | <b>是 | <b>Object |  | <b>项目基本信息 | <b>新房信息 |
| biz_project_no | 是 | String | 32 | 项目编号 |  |
| biz_project_name | 否 | String | 16 | 项目名称 | |
| advance_commission | 否 | int | 16 | 是否垫佣，枚举如下：<br>0：未知<br>1：是<br>2：否 | |
| sort_num | 否 | int | 16 | 排序位置 | |
| house_average_price | 否 | String | 16 | 楼盘价格 | |
| avg_price | 否 | String | 16 | 均价（万／平米） | |
| house_small_price | 否 | String | 16 | 房源最低总价（万） | |
| house_big_price | 否 | String | 16 | 房源最高总价（万） | |
| house_type | 否 | String | 16 | 主力户型 | |
| city_id | 否 | String | 16 | 城市ID | |
| city_name | 否 | String | 16 | 城市名称 | |
| area_id | 否 | String | 16 | 区域ID | |
| area_name | 否 | String | 16 | 区域名称 | |
| tourism_project_city | 否 | String | 16 | 是否文旅，枚举如下：<br>0 ：未知<br>1 ：是<br>2 ：否 | |
| opening_time | 否 | String | 16 | 开盘时间 | |
| checkin_time | 否 | String | 16 | 交房时间 | |
| sale_status | 否 | String | 16 | 销售状态 | |
| features | 否 | String | 16 | 优势特色 | |
| cooperate_start_time | 否 | String | 16 | 合作开始时间 | |
| cooperate_end_time | 否 | String | 16 | 合作结束时间 | |
| on_site_tel | 否 | String | 16 | 驻场电话 | |
| is_hidden_mobile | 否 | String | 16 | 是否隐号报备 | |
| status_qd | 否 | String | 16 | 是否启动 | |
| is_bx | 否 | String | 16 | 是否包销 | |
| is_only | 否 | String | 16 | 是否独家 | |
| report_effective_hours | 否 | String | 16 | 报备有效期（时） | |
| takelook_effective_days | 否 | String | 16 | 带看有效期（天） | |
| report_protect_days | 否 | String | 16 | 报备保护期（天） | |
| report_advance_minutes | 否 | String | 16 | 项目提前报备时间（分钟） | |
| push_time | 否 | String | 16 | 加推时间 | |
| push_num | 否 | String | 16 | 加推套数 | |
| is_zx_second | 否 | String | 16 | 是否直销二级盘，枚举如下：<br>0 ：否<br>1 ：是 | |
| tourism_city_id | 否 | String | 16 | 文旅城市id，以“,“隔开 | |
| <b>project_article_list | <b>否 | <b>Array |  | <b>项目动态列表 | <b>新房信息 |
| article_id | 否 | String | 16 | 动态ID | |
| article_title | 否 | String | 16 | 动态标题 | |
| article_path | 否 | String | 16 | 动态图片 | |
| article_content | 否 | String | 16 | 动态内容 | |
| <b>project_img_list | <b>否 | <b>Array |  | <b>项目图片列表 | <b>新房信息 |
| img_id | 否 | String | 16 | 项目图片ID | |
| img_path | 否 | String | 16 | 图片路径 | |
| img_type | 否 | String | 16 | 图片类型 | |
| <b>project_house_type_list | <b>否 | <b>Array |  | <b>项目户型列表 | <b>新房信息 |
| house_type_name | 否 | String | 16 | 户型名称 | |
| house_type_category | 否 | String | 16 | 户型类别，枚举如下：<br>1 - 效果图<br>2 - 沙盘图<br>3 - 实景图<br>4 - 区位图<br>5 - 样板间图(室内图)<br>6 - 鸟瞰图<br>7 - 小程序楼书-封面图<br>8 - 小程序楼书-宏观外景图<br>9 - 小程序楼书-封底图<br>10 - 其他<br>11 - 封面图<br>12 - 户型图<br>13 - 分享图 | |
| house_type_desc | 否 | String | 16 | 户型描述 | |
| houseorientation | 否 | String | 16 | 朝向，枚举如下：<br>0 ：不选<br>1 ：南北<br>2 ：双南<br>3 ：全南<br>4 ：其他 | |
| min_area_size | 否 | String | 16 | 面积（m²） | |
| house_min_price | 否 | String | 16 | 最低总价 | |
| house_max_price | 否 | String | 16 | 最高总价 | |
| house_sale_status | 否 | String | 16 | 销售状态，枚举如下：<br>0 ：未知<br>1 ：未开盘<br>2 ：在售<br>3 ：售罄 | |
| type_kind | 否 | String | 16 | 标签 | |
| order | 否 | String | 16 | 排序编号 | |
| house_type_path | 否 | String | 16 | 户型图路径 | |
| hot_push | 否 | String | 16 | 是否热推，枚举如下：<br>0 ：未知<br>1 ：是<br>2 ：否 | |
| house_type_status | 否 | String | 16 | 户型是否显示 | |
| <b>project_commission_list | <b>否 | <b>Array |  | <b>佣金规则列表 | <b>新房信息 |
| commission_title | 否 | String | 16 | 佣金规则标题 | |
| commission_money | 否 | String | 16 | 佣金规则金额 | |
| commission_plan | 否 | String | 16 | 佣金规则详情 | |
| order_no | 否 | String | 16 | 序号 | |
| create_user_code | 否 | String | 16 | 创建者编号 | |
| last_modify_user_code | 否 | String | 16 | 最后编辑者编号 | |
| <b>project_guide_rule_list | <b>否 | <b>Array |  | <b>导客规则列表 | <b>新房信息 |
| report_rule_title | 否 | String | 16 | 报备规则标题 | |
| report_rule | 否 | String | 16 | 报备规则内容 | |
| takelook_rule_title | 否 | String | 16 | 带看规则标题 | |
| takelook_rule | 否 | String | 16 | 带看规则内容 | |
| commission_rule_title | 否 | String | 16 | 结佣规则标题 | |
| commission_rule | 否 | String | 16 | 结佣规则内容 | |
| sell_guide_title | 否 | String | 16 | 售盘指导标题 | |
| sell_guide | 否 | String | 16 | 售盘指导内容 | |
| create_user_id | 否 | String | 16 | 创建者编号 | |


#### 业务参数请求样例
```
{
    "etc_ecode":"S20201109150635695000001",
    "etc_process_no":"EP000001",
    "etc_broker_id":"9086355070500471552",
    "src_room_id":"397338",
    "project_info":{
        "biz_project_no":"",
        "biz_project_name":"",
        "advance_commission":"",
        "sort_num":"",
        "house_average_price":"",
        "avg_price":"",
        "house_small_price":"",
        "house_big_price":"",
        "house_type":"",
        "city_id":"",
        "city_name":"",
        "area_id":"",
        "area_name":"",
        "tourism_project_city":"",
        "opening_time":"",
        "checkin_time":"",
        "sale_status":"",
        "features":"",
        "cooperate_start_time":"",
        "cooperate_end_time":"",
        "on_site_tel":"",
        "is_hidden_mobile":"",
        "status_qd":"",
        "is_bx":"",
        "is_only":"",
        "report_effective_hours":"",
        "takelook_effective_days":"",
        "report_protect_days":"",
        "report_advance_minutes":"",
        "push_time":"",
        "push_num":"",
        "is_zx_second":"",
        "tourism_city_id":""
    },
    "project_article_list":[
        {
            "article_id":"",
            "article_title":"",
            "article_path":"",
            "article_content":""
        },
        {
            "article_id":"",
            "article_title":"",
            "article_path":"",
            "article_content":""
        }
    ],
    "project_img_list":[
        {
            "img_id":"",
            "img_path":"",
            "img_type":""
        },
        {
            "img_id":"",
            "img_path":"",
            "img_type":""
        }
    ],
    "project_house_type_list":[
        {
            "house_type_name":"",
            "house_type_category":"",
            "house_type_desc":"",
            "houseorientation":"",
            "min_area_size":"",
            "house_min_price":"",
            "house_max_price":"",
            "house_sale_status":"",
            "type_kind":"",
            "order":"",
            "house_type_path":"",
            "hot_push":"",
            "house_type_status":""
        },
        {
            "house_type_name":"",
            "house_type_category":"",
            "house_type_desc":"",
            "houseorientation":"",
            "min_area_size":"",
            "house_min_price":"",
            "house_max_price":"",
            "house_sale_status":"",
            "type_kind":"",
            "order":"",
            "house_type_path":"",
            "hot_push":"",
            "house_type_status":""
        }
    ],
    "project_commission_list":[
        {
            "commission_title":"",
            "commission_money":"",
            "commission_plan":"",
            "order_no":"",
            "create_user_code":"",
            "last_modify_user_code":""
        },
        {
            "commission_title":"",
            "commission_money":"",
            "commission_plan":"",
            "order_no":"",
            "create_user_code":"",
            "last_modify_user_code":""
        }
    ],
    "project_guide_rule_list":[
        {
            "report_rule_title":"",
            "report_rule":"",
            "takelook_rule_title":"",
            "takelook_rule":"",
            "commission_rule_title":"",
            "commission_rule":"",
            "sell_guide_title":"",
            "sell_guide":"",
            "create_user_id":""
        },
        {
            "report_rule_title":"",
            "report_rule":"",
            "takelook_rule_title":"",
            "takelook_rule":"",
            "commission_rule_title":"",
            "commission_rule":"",
            "sell_guide_title":"",
            "sell_guide":"",
            "create_user_id":""
        }
    ]
}
```

#### 应答报文

| 参数 | 是否必填 | 类型 | 最大长度 | 参数描述 | 示例值 |
|:----|:-------:|:----|:--------|:--------|:------|
| etc_sale_no | 是 | String | 32 | ETC挂牌编号 |  |

#### 应答样例

```
{
	"requestId": "42dd6c6e-247e-487f-87e8-dd97067b877b",	
    "responseCode": "000",
	"responseMsg": "成功",
	"data": {
		"etc_sale_no": "12345"
	}
}
```

#### 错误码

| 错误码 | 描述                                             | 建议                                         |
| :----- | :----------------------------------------------- | :------------------------------------------- |
| 405001 | E码{etcEcode}验证失败：{message}！               | 检查E码编号是否正确                          |
| 405002 | 请求参数与已有数据不一致！{paramCode}            | 检查入参数据是否正确                         |
| 405003 | 状态参数与原状态相同！目前为：{etcSaleStatus}    | 检查入参etc_sale_status是否正确              |
| 405004 | 首次新建挂牌不能是下架状态！{etc_sale_status}    | 检查入参的挂牌状态                           |
| 405005 | 请求验证E码：{etcEcode}失败！原因：{code}，{msg} | E码通返回失败结果，重试或联系管理员          |
| 405006 | E码：{etcEcode}验证异常！请重试或联系管理员！    | 请求E码通E码验证接口异常，重试或联系管理员   |
| 405007 | E码无效，{etcEcode}！                            | 检查E码编号是否正确                          |
| 405008 | 挂牌状态参数：{etc_sale_status}无效！            | 检查挂牌入参的状态参数                       |
| 405009 | 流程编号{etc_process_no}不存在！                 | 检查挂牌入参的etc_process_no是否正确         |
| 405010 | 佣金规则编号{etc_commission_rule_no}不存在！     | 检查挂牌入参的etc_commission_rule_no是否正确 |
| 405011 | 未查询到挂牌信息！                               | 检查挂牌入参的挂牌编号是否正确               |

