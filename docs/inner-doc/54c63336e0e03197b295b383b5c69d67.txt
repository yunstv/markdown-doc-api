{"__html":"<h1 id=\"100d6f48887173d80e771fb19d42ace1\">ETC运营中台接口文档</h1>\n<h2 id=\"3776e2428d57991346ac49fe92ca5576\">一、网关统一接口调用</h2>\n<h3 id=\"6d297330c9a72aaf8edd449f3129e7b3\">接口说明</h3>\n<p><strong>域名列表</strong></p>\n<table>\n<thead>\n<tr>\n<th align=\"center\">序号</th>\n<th align=\"center\">环境</th>\n<th align=\"left\">请求地址</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">1</td>\n<td align=\"center\">开发</td>\n<td align=\"left\"><a href=\"http://10.122.153.9:5086\">http://10.122.153.9:5086</a></td>\n</tr>\n<tr>\n<td align=\"center\">2</td>\n<td align=\"center\">测试</td>\n<td align=\"left\"><a href=\"http://10.122.153.10:5086\">http://10.122.153.10:5086</a></td>\n</tr>\n<tr>\n<td align=\"center\">3</td>\n<td align=\"center\">生产</td>\n<td align=\"left\"><a href=\"http://gateway.ejuetc.com\">http://gateway.ejuetc.com</a></td>\n</tr>\n</tbody></table>\n<p><strong>请求类型</strong></p>\n<ul>\n<li>POST</li>\n</ul>\n<p><strong>请求地址</strong></p>\n<ul>\n<li>/api/gateway</li>\n</ul>\n<h3 id=\"fac78c1cc0e4f1c8a0ce39e7a279bbf3\">请求参数</h3>\n<p><code>Body</code></p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">参数</th>\n<th align=\"left\">描述</th>\n<th align=\"left\">类型</th>\n<th align=\"left\">是否必填</th>\n<th align=\"left\">说明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">appId</td>\n<td align=\"left\">应用ID</td>\n<td align=\"left\">String</td>\n<td align=\"left\">是</td>\n<td align=\"left\">16位字符串</td>\n</tr>\n<tr>\n<td align=\"left\">nonce</td>\n<td align=\"left\">临时随机数</td>\n<td align=\"left\">String</td>\n<td align=\"left\">是</td>\n<td align=\"left\">6位随机字符</td>\n</tr>\n<tr>\n<td align=\"left\">timestamp</td>\n<td align=\"left\">请求时间戳</td>\n<td align=\"left\">Long</td>\n<td align=\"left\">是</td>\n<td align=\"left\">13位数字</td>\n</tr>\n<tr>\n<td align=\"left\">sign</td>\n<td align=\"left\">签名字符串</td>\n<td align=\"left\">String</td>\n<td align=\"left\">是</td>\n<td align=\"left\">将请求参数按字典排序后使用私钥进行RSA签名生成的字符串</td>\n</tr>\n<tr>\n<td align=\"left\">apiCode</td>\n<td align=\"left\">业务接口code码</td>\n<td align=\"left\">String</td>\n<td align=\"left\">是</td>\n<td align=\"left\">指定实际调用的业务接口</td>\n</tr>\n<tr>\n<td align=\"left\">params</td>\n<td align=\"left\">业务接口参数</td>\n<td align=\"left\">JSONObject</td>\n<td align=\"left\">否</td>\n<td align=\"left\">实际调用的业务接口所需要的参数</td>\n</tr>\n</tbody></table>\n<h3 id=\"7a485a7d2f66f3960bf4769bf59f45c7\">请求样例</h3>\n<pre><code>POST http://GatewayHost/api/gateway\nAccept: */*\nCache-Control: no-cache\nContent-Type: application/json\n{\n  &quot;appId&quot; : &quot;OIG0AF4DMOK2VC2N&quot;,\n  &quot;nonce&quot; : &quot;123AO9&quot;,\n  &quot;timestamp&quot; : 1604990109987,\n  &quot;sign&quot;: &quot;1VUinhsNiIdF+w2BJ5tChfyxMHOfgPf+4FhJyTH7Mrr/WNx57ndZhWjaal62/WKMf0M49n+WHWbXmb5qY0wyiSSrz5HK/dd/bkDK6BBFLn4IbR3XCF4wxJ48mm8nrRvNQ2MY3RGug1OmmeD8nG5+alpN35sXCgU3aOHyfU5PLfg8=&quot;,\n  &quot;apiCode&quot;: &quot;test.add&quot;,\n  &quot;params&quot;: {\n    &quot;name&quot;: &quot;测试&quot;\n  }\n}</code></pre>\n<h3 id=\"158f9d18c6043492da91ae289eb7a0a8\">响应参数</h3>\n<table>\n<thead>\n<tr>\n<th align=\"left\">参数</th>\n<th align=\"left\">描述</th>\n<th align=\"left\">类型</th>\n<th align=\"left\">说明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">requestId</td>\n<td align=\"left\">请求ID</td>\n<td align=\"left\">String</td>\n<td align=\"left\">请求的唯一标识</td>\n</tr>\n<tr>\n<td align=\"left\">responseCode</td>\n<td align=\"left\">响应状态码</td>\n<td align=\"left\">String</td>\n<td align=\"left\">000状态码为成功响应，其他状态码为失败响应</td>\n</tr>\n<tr>\n<td align=\"left\">responseMsg</td>\n<td align=\"left\">响应信息</td>\n<td align=\"left\">String</td>\n<td align=\"left\">成功或失败的错误信息</td>\n</tr>\n<tr>\n<td align=\"left\">data</td>\n<td align=\"left\">响应数据</td>\n<td align=\"left\">JSONObject</td>\n<td align=\"left\">业务接口返回的响应数据</td>\n</tr>\n</tbody></table>\n<h3 id=\"743e8e3087a9d82808774445dae4d93b\">响应样例</h3>\n<p><code>成功样例</code></p>\n<pre><code>{\n  &quot;requestId&quot;: &quot;b372be68-6fa6-4590-b927-a4096e6a05e6&quot;,\n  &quot;responseCode&quot;: &quot;000&quot;,\n  &quot;responseMsg&quot;: &quot;成功&quot;,\n  &quot;data&quot;: [\n    {\n      &quot;testId&quot;: 5,\n      &quot;testName&quot;: &quot;测试&quot;\n    }\n  ]\n}</code></pre>\n<p><code>失败样例</code></p>\n<pre><code>{\n  &quot;requestId&quot;: &quot;42dd6c6e-247e-487f-87e8-dd97067b877b&quot;,\n  &quot;responseCode&quot;: &quot;401001&quot;,\n  &quot;responseMsg&quot;: &quot;验证签名失败&quot;,\n  &quot;data&quot;: null\n}</code></pre>\n<h3 id=\"5a54981b49e98d08aebf2c265711bf35\">错误码</h3>\n<table>\n<thead>\n<tr>\n<th align=\"left\">错误码</th>\n<th align=\"left\">描述</th>\n<th align=\"left\">建议</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">400</td>\n<td align=\"left\">参数{paramName}不能为空</td>\n<td align=\"left\">检查参数名称是否正确，参数是否赋值</td>\n</tr>\n<tr>\n<td align=\"left\">400001</td>\n<td align=\"left\">appId不正确</td>\n<td align=\"left\">检查appId是否正确</td>\n</tr>\n<tr>\n<td align=\"left\">400002</td>\n<td align=\"left\">接口已停用</td>\n<td align=\"left\">联系管理员</td>\n</tr>\n<tr>\n<td align=\"left\">401001</td>\n<td align=\"left\">验证签名失败{errorMsg}</td>\n<td align=\"left\">检查待签名的字符串格式是否正确，检查待签名的字符串是否和当前的签名匹配或根据错误信息处理</td>\n</tr>\n<tr>\n<td align=\"left\">401002</td>\n<td align=\"left\">无权限访问当前接口</td>\n<td align=\"left\">检查账号是否有权限或联系管理员</td>\n</tr>\n<tr>\n<td align=\"left\">403001</td>\n<td align=\"left\">请求时间非法或已过期</td>\n<td align=\"left\">检查请求时间戳timestamp是否正确，请求有效时间应小于系统时间且在30秒内</td>\n</tr>\n<tr>\n<td align=\"left\">403002</td>\n<td align=\"left\">请勿重复请求</td>\n<td align=\"left\">使用一个新的临时随机数nonce或等待60秒后重新请求</td>\n</tr>\n<tr>\n<td align=\"left\">404001</td>\n<td align=\"left\">接口不存在</td>\n<td align=\"left\">检查apiCode是否正确或联系管理员</td>\n</tr>\n<tr>\n<td align=\"left\">500</td>\n<td align=\"left\">系统异常，请稍后再试或联系管理员</td>\n<td align=\"left\">请稍后再试或联系管理员</td>\n</tr>\n</tbody></table>\n<h2 id=\"17999fdcb70a252c930b3e9c7c280fbd\">二、网关签名验签</h2>\n<h3 id=\"cc46270b8f5eb264c0d09a2634dbbfc3\">签名字符串</h3>\n<p> 对参数appId、nonce、timestamp、apiCode、业务参数进行字典排序，参数和值之间用“=”连接，参数之间用“&amp;”连接。 <br/><code>注：业务参数为params对象里的所有非对象、数组、集合类型的参数</code></p>\n<p><strong>签名字符串示例</strong></p>\n<pre><code>apiCode=test.add&amp;appId=OIG0AF4DMOK2VC2N&amp;name=测试&amp;nonce=123AO9&amp;timestamp=1604990109987</code></pre>\n<h3 id=\"94b94005e1b7038542f1b1d8d0565cdd\">加签</h3>\n<p>用<code>私钥（ETC平台获取）</code>对签名字符串进行RSA签名,UTF-8编码。</p>\n<p><strong>java 签名示例</strong></p>\n<pre><code>    /**\n     * 用私钥对待签名字符串进行签名\n     * \n     * @param content \n     * @param privateKey\n     * @return\n     */\n    public static String rsaSign(String content, String privateKey) {\n        try {\n            PrivateKey priKey = getPrivateKeyFromPKCS8(&quot;RSA&quot;, new ByteArrayInputStream(privateKey.getBytes()));\n            Signature signature = Signature.getInstance(&quot;SHA1WithRSA&quot;);\n            signature.initSign(priKey);\n            signature.update(content.getBytes(StandardCharsets.UTF_8));\n            byte[] signed = signature.sign();\n            return new String(Base64.encodeBase64(signed));\n        } catch (Exception var7) {\n            throw new BusinessException(&quot;401001&quot;, var7.getMessage());\n        }\n    }\n    public static PrivateKey getPrivateKeyFromPKCS8(String algorithm, InputStream ins) throws Exception {\n        if (ins != null &amp;&amp; !StringUtils.isBlank(algorithm)) {\n            KeyFactory keyFactory = KeyFactory.getInstance(algorithm);\n            byte[] encodedKey = IOUtils.toString(ins, StandardCharsets.UTF_8).getBytes();\n            encodedKey = Base64.decodeBase64(encodedKey);\n            return keyFactory.generatePrivate(new PKCS8EncodedKeySpec(encodedKey));\n        } else {\n            return null;\n        }\n    }</code></pre>\n<p><strong>签名私钥示例</strong></p>\n<pre><code>MIICdwIBADANBgkqhkiG9w0BAQEFAASCAmEwggJdAgEAAoGBAJYmnqO24pylH6D4+JBszn52ZV+hssW+77CaoNsnrPCUtD8ZXBPQ6tiPMhkFyJNrSMRUsQthOKlSD3Q+rPpjsAGAa+4OhFUs8R2oK9vej3SF+7zZ04cKJG+fLjGxa4R2bmzVbubZL+BAk9Y2qa1IKV7NNS7jT38O6sEzFRBik1ybAgMBAAECgYB3PxSeUJCId1s3LIO7r64PIVhBKtof0hPp3eQCKPBf4LmFo05NLo5UjuTqmn1BFuMjiV9R+lRVpKZBW8Vk1ebhEnej7+SEAyrTU2jFE/7+V+JYChWJY3ipyvnWnLvGNIB9Er0wHGK8R9o7lDi0+592x1tuOrxud1nJ56ID4DgfAQJBAM/77Z0nkbvEgdJ0hgSXAvwZ1EjSGtkGFVELlsuYM6kt3xQ+FCk2fmuiE7t8UObAVHx4HusnApIJUWrs8hxFAxMCQQC40LA2xUDYvqM9sYx7l98M6K0/LEuRMm8QLt+5lhNCeibh4MZI8kHADsgnqLY7EC4WunAbNFL/AREGMI+WM+lZAkEAwskM9rwSTqpxc2rSAQZ1Myn1mOW9YzfBSw/xgGfhKjbd0BV7yEVTDPbUSCjbk+DYv2G4gz8bty2m5N9YuIUhpQJAcNFDoEuNKEJHV/O4NAIjcLfgef3KK1pEHfbfL2UDYMM8VQpnQERSCrF7UWpVw3w/BjTNFm48c9ns0IB4RlJuEQJBAJ7wpryXOU9wj02vTciXHo955AnrbAVMyu/9flZTVRAZ1XQF5Unt2iSUl0kcwT7njANCX94bZTJilXqJnZK6MS0=</code></pre>\n<p><strong>签名结果示例</strong></p>\n<pre><code>CN0XEbwadVuQWHhTPfvPxCzZkd8VqTHH4TtL4Lx42lcvUxE0w5NfidiAi8q3lnsv83mb/Dc+SAZTmWaMfArgcnmCXKA8ChM1XyPPqNhSJd4RIQ/ZAonax32qJsYl2opC7xlYmo27hNtDzLpQPfux2vvXRHx2lswMLgfL23F1ENo=</code></pre>\n<h3 id=\"a26669e9be8d6e1e3af70e432fe22ea2\">验签</h3>\n<p>服务器接收到请求后，用相同的逻辑组装好签名字符串，然后用公钥和接收到的签名验签，UTF-8编码。</p>\n<p><strong>java 验签示例</strong></p>\n<pre><code>    /**\n     * 用公钥和签名字符串对签名进行验证\n     * \n     * @param content \n     * @param sign\n     * @param publicKey\n     * @return\n     */\n    public static boolean rsaCheckContent(String content, String sign, String publicKey) {\n        try {\n            PublicKey pubKey = getPublicKeyFromX509(&quot;RSA&quot;, new ByteArrayInputStream(publicKey.getBytes()));\n            Signature signature = Signature.getInstance(&quot;SHA1WithRSA&quot;);\n            signature.initVerify(pubKey);\n            signature.update(content.getBytes(StandardCharsets.UTF_8));\n            return signature.verify(Base64.decodeBase64(sign.getBytes()));\n        } catch (Exception var6) {\n            throw new BusinessException(&quot;401001&quot;, var6.getMessage());\n        }\n    }\n    public static PublicKey getPublicKeyFromX509(String algorithm, InputStream ins) throws Exception {\n        KeyFactory keyFactory = KeyFactory.getInstance(algorithm);\n        byte[] encodedKey = IOUtils.toString(ins, StandardCharsets.UTF_8).getBytes();\n        encodedKey = Base64.decodeBase64(encodedKey);\n        return keyFactory.generatePublic(new X509EncodedKeySpec(encodedKey));\n    }</code></pre>\n<p><strong>签名公钥示例</strong></p>\n<pre><code>MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCWJp6jtuKcpR+g+PiQbM5+dmVfobLFvu+wmqDbJ6zwlLQ/GVwT0OrYjzIZBciTa0jEVLELYTipUg90Pqz6Y7ABgGvuDoRVLPEdqCvb3o90hfu82dOHCiRvny4xsWuEdm5s1W7m2S/gQJPWNqmtSClezTUu409/DurBMxUQYpNcmwIDAQAB</code></pre>\n<h2 id=\"cb41bed6c7dd5aabed5c61b9658d8cf4\">三、业务接口列表</h2>\n<table>\n<thead>\n<tr>\n<th align=\"center\">序号</th>\n<th align=\"center\">接口名称</th>\n<th align=\"left\">apiCode</th>\n<th align=\"left\">接口说明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">1</td>\n<td align=\"center\">用户－保存用户</td>\n<td align=\"left\">partner.broker.save</td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"center\">2</td>\n<td align=\"center\">房源－新建挂牌</td>\n<td align=\"left\">loupan.service.sale</td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"center\">3</td>\n<td align=\"center\">协作流程－创建流程单</td>\n<td align=\"left\">trade.service.create</td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"center\">4</td>\n<td align=\"center\">协作流程－更新流程单</td>\n<td align=\"left\">trade.service.update</td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"center\">5</td>\n<td align=\"center\">协作流程－保存二手房佣金分配</td>\n<td align=\"left\">trade.commission.secondhand.save</td>\n<td align=\"left\"></td>\n</tr>\n</tbody></table>\n<h2 id=\"ec14ad318162b8b37f5c9f99e8b1dcb9\">四、业务接口说明</h2>\n<h3 id=\"d2d8f47075aba7a9bed336d5ef9011a1\">1、用户－保存用户</h3>\n<h4 id=\"861e4c84bb2bd6993147951c9df4fdc5\">接口说明</h4>\n<ul>\n<li>适用对象 : 渠道参与方</li>\n<li>请求类型 : POST</li>\n<li>apiCode : partner.broker.save</li>\n</ul>\n<h4 id=\"373066ba5353d0170c77786efab6de3d\">请求参数</h4>\n<table>\n<thead>\n<tr>\n<th align=\"left\">参数</th>\n<th align=\"center\">是否必填</th>\n<th align=\"left\">类型</th>\n<th align=\"left\">最大长度</th>\n<th align=\"left\">参数描述</th>\n<th align=\"left\">示例值</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">etc_broker_no</td>\n<td align=\"center\">否</td>\n<td align=\"left\">String</td>\n<td align=\"left\">32</td>\n<td align=\"left\">ETC用户编号</td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">biz_broker_id</td>\n<td align=\"center\">是</td>\n<td align=\"left\">String</td>\n<td align=\"left\">32</td>\n<td align=\"left\">业务用户ID</td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">biz_broker_name</td>\n<td align=\"center\">是</td>\n<td align=\"left\">String</td>\n<td align=\"left\">32</td>\n<td align=\"left\">业务用户名称</td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">biz_broker_phone</td>\n<td align=\"center\">是</td>\n<td align=\"left\">String</td>\n<td align=\"left\">32</td>\n<td align=\"left\">业务用户手机号</td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">biz_broker_type</td>\n<td align=\"center\">是</td>\n<td align=\"left\">String</td>\n<td align=\"left\">32</td>\n<td align=\"left\">业务用户类型</td>\n<td align=\"left\">类型枚举</td>\n</tr>\n<tr>\n<td align=\"left\">biz_broker_status</td>\n<td align=\"center\">是</td>\n<td align=\"left\">String</td>\n<td align=\"left\">32</td>\n<td align=\"left\">业务用户状态</td>\n<td align=\"left\">状态枚举</td>\n</tr>\n<tr>\n<td align=\"left\">biz_store_id</td>\n<td align=\"center\">是</td>\n<td align=\"left\">String</td>\n<td align=\"left\">32</td>\n<td align=\"left\">用户所属门店ID</td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">biz_store_name</td>\n<td align=\"center\">是</td>\n<td align=\"left\">String</td>\n<td align=\"left\">255</td>\n<td align=\"left\">用户所属门店名称</td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">biz_company_id</td>\n<td align=\"center\">是</td>\n<td align=\"left\">String</td>\n<td align=\"left\">32</td>\n<td align=\"left\">用户所属公司ID</td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">biz_company_name</td>\n<td align=\"center\">是</td>\n<td align=\"left\">String</td>\n<td align=\"left\">255</td>\n<td align=\"left\">用户所属公司名称</td>\n<td align=\"left\"></td>\n</tr>\n</tbody></table>\n<h4 id=\"ea3c46306f43e3e29576361044135706\">请求样例</h4>\n<pre><code>{\n    &quot;biz_broker_id&quot; : &quot;123456&quot;,\n    &quot;biz_broker_name&quot; : &quot;张三&quot;,\n    &quot;biz_broker_phone&quot; : &quot;13012345678&quot;,\n    &quot;biz_broker_type&quot; : &quot;T1&quot;,\n    &quot;biz_broker_status&quot; : &quot;ST01&quot;,\n    &quot;biz_store_id&quot; : &quot;S00001&quot;,\n    &quot;biz_store_name&quot; : &quot;门店01&quot;,\n    &quot;biz_company_id&quot; : &quot;C00001&quot;,\n    &quot;biz_company_name&quot; : &quot;公司01&quot;\n}</code></pre>\n<h4 id=\"8d68c4f299b136050ded5bfbba04b6f6\">应答报文</h4>\n<table>\n<thead>\n<tr>\n<th align=\"left\">参数</th>\n<th align=\"center\">是否必填</th>\n<th align=\"left\">类型</th>\n<th align=\"left\">最大长度</th>\n<th align=\"left\">参数描述</th>\n<th align=\"left\">示例值</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">etc_broker_no</td>\n<td align=\"center\">是</td>\n<td align=\"left\">String</td>\n<td align=\"left\">32</td>\n<td align=\"left\">ETC用户编号</td>\n<td align=\"left\"></td>\n</tr>\n</tbody></table>\n<h4 id=\"3a399c28699a69e64d4585efd12518db\">应答样例</h4>\n<pre><code>{\n    &quot;responseCode&quot;: &quot;000&quot;,\n    &quot;responseMsg&quot;: &quot;成功&quot;,\n    &quot;detail&quot;: null,\n    &quot;data&quot;: {\n        &quot;etc_broker_no&quot;: &quot;U12345&quot;\n    }\n}</code></pre>\n<h3 id=\"f18402e787d10506f78a18910bb60508\">2、房源－新建挂牌</h3>\n<h4 id=\"a6c30acffe7716d2e2f2741c63f56fc8\">接口说明</h4>\n<ul>\n<li>适用对象 : 渠道参与方</li>\n<li>请求类型 : POST</li>\n<li>apiCode : loupan.service.sale</li>\n</ul>\n<h4 id=\"c5b5d4d1b50dc4a95c74053941651bb1\">请求参数</h4>\n<table>\n<thead>\n<tr>\n<th align=\"left\">参数</th>\n<th align=\"center\">是否必填</th>\n<th align=\"left\">类型</th>\n<th align=\"left\">最大长度</th>\n<th align=\"left\">参数描述</th>\n<th align=\"left\">示例值</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">etc_ecode</td>\n<td align=\"center\">是</td>\n<td align=\"left\">String</td>\n<td align=\"left\">32</td>\n<td align=\"left\">E码编号</td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">etc_process_no</td>\n<td align=\"center\">是</td>\n<td align=\"left\">String</td>\n<td align=\"left\">32</td>\n<td align=\"left\">ETC流程编号</td>\n<td align=\"left\"></td>\n</tr>\n</tbody></table>\n<h4 id=\"021d298467414135715b003df949fedd\">请求样例</h4>\n<pre><code>{\n    &quot;etc_ecode&quot; : &quot;X20201109150635695000001&quot;,\n    &quot;etc_process_no&quot; : &quot;EP000001&quot;\n}</code></pre>\n<h4 id=\"a96367fc6c2a8b6ffe0f9fb9ba382dde\">应答报文</h4>\n<table>\n<thead>\n<tr>\n<th align=\"left\">参数</th>\n<th align=\"center\">是否必填</th>\n<th align=\"left\">类型</th>\n<th align=\"left\">最大长度</th>\n<th align=\"left\">参数描述</th>\n<th align=\"left\">示例值</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">etc_sale_id</td>\n<td align=\"center\">是</td>\n<td align=\"left\">String</td>\n<td align=\"left\">32</td>\n<td align=\"left\">ETC挂牌ID</td>\n<td align=\"left\"></td>\n</tr>\n</tbody></table>\n<h4 id=\"b948b7872a44f830be7d39a09b9d2fb3\">应答样例</h4>\n<pre><code>{\n    &quot;responseCode&quot;: &quot;000&quot;,\n    &quot;responseMsg&quot;: &quot;成功&quot;,\n    &quot;detail&quot;: null,\n    &quot;data&quot;: {\n        &quot;etc_sale_id&quot;: &quot;12345&quot;\n    }\n}</code></pre>\n<h3 id=\"4cec24fd0038a7288ea53eeecbd2d120\">3、协作流程－创建流程单</h3>\n<h4 id=\"110e3920fd7b0464a3498ec9f6cffd7f\">接口说明</h4>\n<ul>\n<li>适用对象 : 渠道参与方</li>\n<li>请求类型 : POST</li>\n<li>apiCode : trade.service.create</li>\n</ul>\n<h4 id=\"d61abb7cf9220e73562825b42aa6c2f4\">请求参数</h4>\n<table>\n<thead>\n<tr>\n<th align=\"left\">参数</th>\n<th align=\"center\">是否必填</th>\n<th align=\"left\">类型</th>\n<th align=\"left\">最大长度</th>\n<th align=\"left\">参数描述</th>\n<th align=\"left\">示例值</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">etc_sale_no</td>\n<td align=\"center\">是</td>\n<td align=\"left\">String</td>\n<td align=\"left\">32</td>\n<td align=\"left\">ETC挂牌编号</td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">etc_user_no</td>\n<td align=\"center\">是</td>\n<td align=\"left\">String</td>\n<td align=\"left\">32</td>\n<td align=\"left\">ETC客户编号</td>\n<td align=\"left\"></td>\n</tr>\n</tbody></table>\n<h4 id=\"1f4e3b5a28378524c3612c5db7d6b5fe\">请求样例</h4>\n<pre><code>{\n    &quot;etc_sale_no&quot; : &quot;X20201109150635695000001&quot;,\n    &quot;etc_user_no&quot; : &quot;E0001000001&quot;\n}</code></pre>\n<h4 id=\"187e9bb7827293ac4ad40462a805c4b2\">应答报文</h4>\n<table>\n<thead>\n<tr>\n<th align=\"left\">参数</th>\n<th align=\"center\">是否必填</th>\n<th align=\"left\">类型</th>\n<th align=\"left\">最大长度</th>\n<th align=\"left\">参数描述</th>\n<th align=\"left\">示例值</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">etc_process_bill_no</td>\n<td align=\"center\">是</td>\n<td align=\"left\">String</td>\n<td align=\"left\">32</td>\n<td align=\"left\">ETC流程单编号</td>\n<td align=\"left\"></td>\n</tr>\n</tbody></table>\n<h4 id=\"65b023fcd8354d094d2479369c4a4097\">应答样例</h4>\n<pre><code>{\n    &quot;requestId&quot;: &quot;42dd6c6e-247e-487f-87e8-dd97067b877b&quot;,\n    &quot;responseCode&quot;: &quot;000&quot;,\n    &quot;responseMsg&quot;: &quot;成功&quot;,\n    &quot;data&quot;: {\n        &quot;etc_process_bill_no&quot;: &quot;F20201231112338656491666&quot;\n    }\n}</code></pre>\n<h3 id=\"36b30b25665784b1f62cc864bfa83ee2\">4、协作流程－更新流程单</h3>\n<h4 id=\"7ad928c26ddc68fda0acd774f80119f5\">接口说明</h4>\n<ul>\n<li>适用对象 : 渠道参与方</li>\n<li>请求类型 : POST</li>\n<li>apiCode : trade.service.update</li>\n</ul>\n<h4 id=\"57d3e19837a5de0519dfbb2a396034f5\">请求参数</h4>\n<table>\n<thead>\n<tr>\n<th align=\"left\">参数</th>\n<th align=\"center\">是否必填</th>\n<th align=\"left\">类型</th>\n<th align=\"left\">最大长度</th>\n<th align=\"left\">参数描述</th>\n<th align=\"left\">示例值</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">etc_process_bill_no</td>\n<td align=\"center\">是</td>\n<td align=\"left\">String</td>\n<td align=\"left\">32</td>\n<td align=\"left\">ETC流程单编号</td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">etc_process_node_no</td>\n<td align=\"center\">是</td>\n<td align=\"left\">String</td>\n<td align=\"left\">32</td>\n<td align=\"left\">ETC流程节点编号</td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">biz_process_node_status</td>\n<td align=\"center\">是</td>\n<td align=\"left\">String</td>\n<td align=\"left\">32</td>\n<td align=\"left\">流程节点状态</td>\n<td align=\"left\">状态枚举</td>\n</tr>\n<tr>\n<td align=\"left\">biz_data_map</td>\n<td align=\"center\">是</td>\n<td align=\"left\">Map</td>\n<td align=\"left\"></td>\n<td align=\"left\">业务数据集合,详见业务数据Map</td>\n<td align=\"left\"></td>\n</tr>\n</tbody></table>\n<h4 id=\"8a29cd85bd3f3936d28b8a56ec244338\">请求样例</h4>\n<pre><code>{\n    &quot;etc_process_bill_no&quot; : &quot;F20201231112338656491666&quot;,\n    &quot;etc_process_node_no&quot; : &quot;EPN0000101&quot;,\n    &quot;biz_process_node_status&quot; : &quot;ORDERED&quot;,\n    &quot;biz_data_map&quot; : {\n        &quot;CODE001&quot; : &quot;张三&quot;,\n        &quot;CODE002&quot; : &quot;5000&quot;\n    }\n}</code></pre>\n<h4 id=\"15f6e766fbd5cad81b395bf9b5f1251c\">应答报文</h4>\n<table>\n<thead>\n<tr>\n<th align=\"left\">参数</th>\n<th align=\"center\">是否必填</th>\n<th align=\"left\">类型</th>\n<th align=\"left\">最大长度</th>\n<th align=\"left\">参数描述</th>\n<th align=\"left\">示例值</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">etc_process_bill_no</td>\n<td align=\"center\">是</td>\n<td align=\"left\">String</td>\n<td align=\"left\">32</td>\n<td align=\"left\">ETC流程单编号</td>\n<td align=\"left\"></td>\n</tr>\n</tbody></table>\n<h4 id=\"2b9b3c817f0dc0fd90c0529a2c368113\">应答样例</h4>\n<pre><code>{\n    &quot;requestId&quot;: &quot;42dd6c6e-247e-487f-87e8-dd97067b877b&quot;,    \n    &quot;responseCode&quot;: &quot;000&quot;,\n    &quot;responseMsg&quot;: &quot;成功&quot;,\n    &quot;data&quot;: {\n        &quot;etc_process_bill_no&quot;: &quot;F20201231112338656491666&quot;\n    }\n}</code></pre>\n<h3 id=\"cb7e60ee1fe306d705dc37710c2284e6\">5、协作流程－保存二手房佣金分配</h3>\n<h4 id=\"0833088bfd19c9d8e1da630cb0d8697c\">接口说明</h4>\n<ul>\n<li>适用对象 : 渠道参与方</li>\n<li>请求类型 : POST</li>\n<li>apiCode : trade.commission.secondhand.save</li>\n</ul>\n<h4 id=\"e6d6cb0b6b808b3f90ab8c62943c67b1\">请求参数</h4>\n<table>\n<thead>\n<tr>\n<th align=\"left\">参数</th>\n<th align=\"center\">是否必填</th>\n<th align=\"left\">类型</th>\n<th align=\"left\">最大长度</th>\n<th align=\"left\">参数描述</th>\n<th align=\"left\">示例值</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">etc_process_bill_no</td>\n<td align=\"center\">是</td>\n<td align=\"left\">String</td>\n<td align=\"left\">32</td>\n<td align=\"left\">ETC流程单编号</td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">public_estate_type</td>\n<td align=\"center\">是</td>\n<td align=\"left\">String</td>\n<td align=\"left\">32</td>\n<td align=\"left\">公盘类型</td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">commission_list</td>\n<td align=\"center\">是</td>\n<td align=\"left\">List</td>\n<td align=\"left\"></td>\n<td align=\"left\">佣金分配集合</td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">role_type</td>\n<td align=\"center\">是</td>\n<td align=\"left\">String</td>\n<td align=\"left\">32</td>\n<td align=\"left\">角色类型</td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">role_type_name</td>\n<td align=\"center\">是</td>\n<td align=\"left\">String</td>\n<td align=\"left\">32</td>\n<td align=\"left\">角色类型名称</td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">allocation_proportion</td>\n<td align=\"center\">是</td>\n<td align=\"left\">String</td>\n<td align=\"left\">32</td>\n<td align=\"left\">分配比例</td>\n<td align=\"left\">20.00</td>\n</tr>\n<tr>\n<td align=\"left\">broker_id</td>\n<td align=\"center\">是</td>\n<td align=\"left\">String</td>\n<td align=\"left\">32</td>\n<td align=\"left\">角色人ID</td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">broker_name</td>\n<td align=\"center\">是</td>\n<td align=\"left\">String</td>\n<td align=\"left\">32</td>\n<td align=\"left\">角色人姓名</td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">broker_phone</td>\n<td align=\"center\">是</td>\n<td align=\"left\">String</td>\n<td align=\"left\">32</td>\n<td align=\"left\">角色人手机号</td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">store_id</td>\n<td align=\"center\">是</td>\n<td align=\"left\">String</td>\n<td align=\"left\">32</td>\n<td align=\"left\">门店ID</td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">store_name</td>\n<td align=\"center\">是</td>\n<td align=\"left\">String</td>\n<td align=\"left\">255</td>\n<td align=\"left\">门店名称</td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">company_id</td>\n<td align=\"center\">是</td>\n<td align=\"left\">String</td>\n<td align=\"left\">32</td>\n<td align=\"left\">公司ID</td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">company_name</td>\n<td align=\"center\">是</td>\n<td align=\"left\">String</td>\n<td align=\"left\">255</td>\n<td align=\"left\">公司名称</td>\n<td align=\"left\"></td>\n</tr>\n</tbody></table>\n<h4 id=\"20bb9a3219764cc3af8b88af45e71bd6\">请求样例</h4>\n<pre><code>{\n    &quot;etc_process_bill_no&quot;: &quot;F20201231112338656491666&quot;,\n    &quot;public_estate_type&quot;: &quot;T001&quot;,\n    &quot;commission_list&quot;: [{\n        &quot;role_type&quot;: &quot;1&quot;,\n        &quot;role_type_name&quot;: &quot;录入人&quot;,\n        &quot;allocation_proportion&quot;: &quot;35.00&quot;,\n        &quot;broker_id&quot;: &quot;B001&quot;,\n        &quot;broker_name&quot;: &quot;张三&quot;,\n        &quot;broker_phone&quot;: &quot;13100000001&quot;,\n        &quot;store_id&quot;: &quot;S001&quot;,\n        &quot;store_name&quot;: &quot;门店01&quot;,\n        &quot;company_id&quot;: &quot;C001&quot;,\n        &quot;company_name&quot;: &quot;公司01&quot;\n    },{\n        &quot;role_type&quot;: &quot;3&quot;,\n        &quot;role_type_name&quot;: &quot;钥匙人&quot;,\n        &quot;allocation_proportion&quot;: &quot;10.00&quot;,\n        &quot;broker_id&quot;: &quot;B002&quot;,\n        &quot;broker_name&quot;: &quot;李四&quot;,\n        &quot;broker_phone&quot;: &quot;13100000002&quot;,\n        &quot;store_id&quot;: &quot;S002&quot;,\n        &quot;store_name&quot;: &quot;门店02&quot;,\n        &quot;company_id&quot;: &quot;C002&quot;,\n        &quot;company_name&quot;: &quot;公司02&quot;\n    }]\n}</code></pre>\n<h4 id=\"1948dbd14ffe851503f21ce922655eff\">应答报文</h4>\n<table>\n<thead>\n<tr>\n<th align=\"left\">参数</th>\n<th align=\"center\">是否必填</th>\n<th align=\"left\">类型</th>\n<th align=\"left\">最大长度</th>\n<th align=\"left\">参数描述</th>\n<th align=\"left\">示例值</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">etc_process_bill_no</td>\n<td align=\"center\">是</td>\n<td align=\"left\">String</td>\n<td align=\"left\">32</td>\n<td align=\"left\">ETC流程单编号</td>\n<td align=\"left\"></td>\n</tr>\n</tbody></table>\n<h4 id=\"0e5006930dc71d8d4c390bcb96d4cdde\">应答样例</h4>\n<pre><code>{\n    &quot;requestId&quot;: &quot;42dd6c6e-247e-487f-87e8-dd97067b877b&quot;,    \n    &quot;responseCode&quot;: &quot;000&quot;,\n    &quot;responseMsg&quot;: &quot;成功&quot;,\n    &quot;data&quot;: {\n        &quot;etc_process_bill_no&quot;: &quot;F20201231112338656491666&quot;\n    }\n}</code></pre>\n","key":"54c63336e0e03197b295b383b5c69d67","fileName":"__inner-docs_ETC对内接口文档_ETC运营中台接口文档.json","mtimeMs":1614934910000,"birthtimeMs":1614934910000}