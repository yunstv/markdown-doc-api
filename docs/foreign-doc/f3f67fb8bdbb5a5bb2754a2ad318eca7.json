{"__html":"<h2 id=\"9ebc43401932aba3c9cbf0a2d70a9359\">一步发起签署接口</h2>\n<h4 id=\"cbaf99e9ee8c00234e5fcda0e36d45e3\">接口说明</h4>\n<ul>\n<li>接口说明 : 聚合创建流程接口，一步添加待签文件、相关附件、流程基本信息、签署方。支持自动开启、自动归档。该接口为异步接口。</li>\n<li>适用对象 : 接入电子签的商户</li>\n<li>请求类型 : POST</li>\n<li>apiCode : esign.signflows.createFlowOneStep</li>\n</ul>\n<h4 id=\"a1383fab2edff681115a7278f8ba6bb4\">请求参数</h4>\n<table>\n<thead>\n<tr>\n<th align=\"left\">参数</th>\n<th align=\"center\">是否必填</th>\n<th align=\"left\">类型</th>\n<th align=\"left\">最大长度</th>\n<th align=\"left\">参数描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">fileUrl</td>\n<td align=\"center\">是</td>\n<td align=\"left\">String</td>\n<td align=\"left\">128</td>\n<td align=\"left\">签署文件url</td>\n</tr>\n<tr>\n<td align=\"left\">fileName</td>\n<td align=\"center\">是</td>\n<td align=\"left\">String</td>\n<td align=\"left\">128</td>\n<td align=\"left\">签署文件名(pdf格式，必需带上后缀名),<br/>注意：文件名称不支持以下9个字符：/ \\ : * &quot; &lt; &gt; &#124; ？</td>\n</tr>\n<tr>\n<td align=\"left\">notifyUrl</td>\n<td align=\"center\">是</td>\n<td align=\"left\">String</td>\n<td align=\"left\">128</td>\n<td align=\"left\">签署完成回调通知地址</td>\n</tr>\n<tr>\n<td align=\"left\">signValidity</td>\n<td align=\"center\">否</td>\n<td align=\"left\">String</td>\n<td align=\"left\">255</td>\n<td align=\"left\">签署有效截止时间（毫秒），默认不失效</td>\n</tr>\n<tr>\n<td align=\"left\">finishNotifyFlag</td>\n<td align=\"center\">否</td>\n<td align=\"left\">boolean</td>\n<td align=\"left\">1</td>\n<td align=\"left\">签署流程完成后是否通知法人，该参数仅在机构静默签署时有效，默认为true</td>\n</tr>\n<tr>\n<td align=\"left\">signers</td>\n<td align=\"center\">是</td>\n<td align=\"left\">object</td>\n<td align=\"left\"></td>\n<td align=\"left\">签署方信息</td>\n</tr>\n<tr>\n<td align=\"left\">initiatorAccount</td>\n<td align=\"center\">是</td>\n<td align=\"left\">object</td>\n<td align=\"left\"></td>\n<td align=\"left\">发起方</td>\n</tr>\n<tr>\n<td align=\"left\">signOrder</td>\n<td align=\"center\">否</td>\n<td align=\"left\">Integer</td>\n<td align=\"left\">64</td>\n<td align=\"left\">签署方签署顺序，默认1,且不小于1，顺序越小越先处理</td>\n</tr>\n<tr>\n<td align=\"left\">etc_member_no</td>\n<td align=\"center\">是</td>\n<td align=\"left\">String</td>\n<td align=\"left\">64</td>\n<td align=\"left\">etc会员编号</td>\n</tr>\n<tr>\n<td align=\"left\">signfields</td>\n<td align=\"center\">是</td>\n<td align=\"left\">array</td>\n<td align=\"left\"></td>\n<td align=\"left\">签署方签署区信息</td>\n</tr>\n<tr>\n<td align=\"left\">autoExecute</td>\n<td align=\"center\">否</td>\n<td align=\"left\">boolean</td>\n<td align=\"left\">1</td>\n<td align=\"left\">是否自动签署（若需要自动签署必须设置为true，默认为true）</td>\n</tr>\n<tr>\n<td align=\"left\">signType</td>\n<td align=\"center\">否</td>\n<td align=\"left\">int</td>\n<td align=\"left\">32</td>\n<td align=\"left\">签署类型，0-不限，1-单页签署，2-骑缝签署，默认1</td>\n</tr>\n<tr>\n<td align=\"left\">actorIndentityType</td>\n<td align=\"center\">否</td>\n<td align=\"left\">String</td>\n<td align=\"left\">32</td>\n<td align=\"left\">机构签约类别，2-机构盖章，（自动签署时，无需传入该参数）</td>\n</tr>\n<tr>\n<td align=\"left\">width</td>\n<td align=\"center\">是</td>\n<td align=\"left\">String</td>\n<td align=\"left\">64</td>\n<td align=\"left\">签署区宽度</td>\n</tr>\n<tr>\n<td align=\"left\">signBean</td>\n<td align=\"center\">是</td>\n<td align=\"left\">object</td>\n<td align=\"left\"></td>\n<td align=\"left\">签署印章位置信息</td>\n</tr>\n<tr>\n<td align=\"left\">posBean</td>\n<td align=\"center\">是</td>\n<td align=\"left\">array</td>\n<td align=\"left\"></td>\n<td align=\"left\">签署印章位置信息对象，<br/>signType为0时，本参数无效<br/>signType为1时, 页码和XY坐标不能为空,<br/>signType为2时, 页码和Y坐标不能为空</td>\n</tr>\n<tr>\n<td align=\"left\">posPage</td>\n<td align=\"center\">是</td>\n<td align=\"left\">String</td>\n<td align=\"left\">64</td>\n<td align=\"left\">页码信息，当签署区signType为2时, 页码可以&#39;-&#39;分割指定页码范围, 传all代表全部页码。其他情况只能是数字</td>\n</tr>\n<tr>\n<td align=\"left\">posX</td>\n<td align=\"center\">是</td>\n<td align=\"left\">String</td>\n<td align=\"left\">64</td>\n<td align=\"left\">x坐标</td>\n</tr>\n<tr>\n<td align=\"left\">posY</td>\n<td align=\"center\">是</td>\n<td align=\"left\">String</td>\n<td align=\"left\">64</td>\n<td align=\"left\">y坐标</td>\n</tr>\n<tr>\n<td align=\"left\">signDateBean</td>\n<td align=\"center\">否</td>\n<td align=\"left\">object</td>\n<td align=\"left\"></td>\n<td align=\"left\">签署日期信息</td>\n</tr>\n<tr>\n<td align=\"left\">fontSize</td>\n<td align=\"center\">否</td>\n<td align=\"left\">String</td>\n<td align=\"left\">64</td>\n<td align=\"left\">签章日期字体大小（signDateBean不为空时，必填）</td>\n</tr>\n<tr>\n<td align=\"left\">format</td>\n<td align=\"center\">否</td>\n<td align=\"left\">String</td>\n<td align=\"left\">64</td>\n<td align=\"left\">签章日期格式，yyyy年MM月dd日 （signDateBean不为空时，必填）</td>\n</tr>\n<tr>\n<td align=\"left\">posBean</td>\n<td align=\"center\">否</td>\n<td align=\"left\">array</td>\n<td align=\"left\"></td>\n<td align=\"left\">签署日期位置信息 （signDateBean不为空时，必填）</td>\n</tr>\n<tr>\n<td align=\"left\">posPage</td>\n<td align=\"center\">否</td>\n<td align=\"left\">String</td>\n<td align=\"left\">64</td>\n<td align=\"left\">页码信息（signDateBean不为空时，必填）</td>\n</tr>\n<tr>\n<td align=\"left\">posX</td>\n<td align=\"center\">否</td>\n<td align=\"left\">String</td>\n<td align=\"left\">64</td>\n<td align=\"left\">x坐标（signDateBean不为空时，必填）</td>\n</tr>\n<tr>\n<td align=\"left\">posY</td>\n<td align=\"center\">否</td>\n<td align=\"left\">String</td>\n<td align=\"left\">64</td>\n<td align=\"left\">y坐标（signDateBean不为空时，必填）</td>\n</tr>\n<tr>\n<td align=\"left\">signerAccount</td>\n<td align=\"center\">是</td>\n<td align=\"left\">array</td>\n<td align=\"left\"></td>\n<td align=\"left\">签署人账号信息</td>\n</tr>\n<tr>\n<td align=\"left\">signOrder</td>\n<td align=\"center\">否</td>\n<td align=\"left\">Integer</td>\n<td align=\"left\">64</td>\n<td align=\"left\">签署方签署顺序，默认1,且不小于1，顺序越小越先处理</td>\n</tr>\n<tr>\n<td align=\"left\">name</td>\n<td align=\"center\">是</td>\n<td align=\"left\">String</td>\n<td align=\"left\">64</td>\n<td align=\"left\">姓名</td>\n</tr>\n<tr>\n<td align=\"left\">idNumber</td>\n<td align=\"center\">是</td>\n<td align=\"left\">String</td>\n<td align=\"left\">18</td>\n<td align=\"left\">身份证号</td>\n</tr>\n<tr>\n<td align=\"left\">mobile</td>\n<td align=\"center\">是</td>\n<td align=\"left\">String</td>\n<td align=\"left\">11</td>\n<td align=\"left\">手机号</td>\n</tr>\n<tr>\n<td align=\"left\">signfields</td>\n<td align=\"center\">是</td>\n<td align=\"left\">array</td>\n<td align=\"left\"></td>\n<td align=\"left\">签署方签署区信息</td>\n</tr>\n<tr>\n<td align=\"left\">signType</td>\n<td align=\"center\">否</td>\n<td align=\"left\">int</td>\n<td align=\"left\">32</td>\n<td align=\"left\">签署类型，0-不限，1-单页签署，2-骑缝签署，默认1</td>\n</tr>\n<tr>\n<td align=\"left\">width</td>\n<td align=\"center\">否</td>\n<td align=\"left\">String</td>\n<td align=\"left\">64</td>\n<td align=\"left\">签署区宽度</td>\n</tr>\n<tr>\n<td align=\"left\">sealType</td>\n<td align=\"center\">否</td>\n<td align=\"left\">String</td>\n<td align=\"left\">64</td>\n<td align=\"left\">签署方式，个人签署时支持多种签署方式,<br/>0:手绘签名，1:模板印章签名，多种类型时逗号分割，为空不限制</td>\n</tr>\n<tr>\n<td align=\"left\">signBean</td>\n<td align=\"center\">是</td>\n<td align=\"left\">object</td>\n<td align=\"left\"></td>\n<td align=\"left\">签署印章位置信息</td>\n</tr>\n<tr>\n<td align=\"left\">posBean</td>\n<td align=\"center\">是</td>\n<td align=\"left\">array</td>\n<td align=\"left\"></td>\n<td align=\"left\">签署印章位置信息对象,<br/>signType为0时，本参数无效<br/>signType为1时, 页码和XY坐标不能为空,<br/>signType为2时, 页码和Y坐标不能为空</td>\n</tr>\n<tr>\n<td align=\"left\">posPage</td>\n<td align=\"center\">是</td>\n<td align=\"left\">String</td>\n<td align=\"left\">64</td>\n<td align=\"left\">页码信息，当签署区signType为2时, 页码可以&#39;-&#39;分割指定页码范围, 传all代表全部页码。其他情况只能是数字</td>\n</tr>\n<tr>\n<td align=\"left\">posX</td>\n<td align=\"center\">是</td>\n<td align=\"left\">String</td>\n<td align=\"left\">64</td>\n<td align=\"left\">x坐标</td>\n</tr>\n<tr>\n<td align=\"left\">posY</td>\n<td align=\"center\">是</td>\n<td align=\"left\">String</td>\n<td align=\"left\">64</td>\n<td align=\"left\">y坐标</td>\n</tr>\n<tr>\n<td align=\"left\">signDateBean</td>\n<td align=\"center\">否</td>\n<td align=\"left\">object</td>\n<td align=\"left\"></td>\n<td align=\"left\">签署日期信息</td>\n</tr>\n<tr>\n<td align=\"left\">fontSize</td>\n<td align=\"center\">否</td>\n<td align=\"left\">String</td>\n<td align=\"left\">64</td>\n<td align=\"left\">签章日期字体大小（signDateBean不为空时，必填）</td>\n</tr>\n<tr>\n<td align=\"left\">format</td>\n<td align=\"center\">否</td>\n<td align=\"left\">String</td>\n<td align=\"left\">64</td>\n<td align=\"left\">签章日期格式,支持:yyyy年MM月dd日,yyyy-MM-dd,yyyy/MM/dd （signDateBean不为空时，必填）</td>\n</tr>\n<tr>\n<td align=\"left\">posBean</td>\n<td align=\"center\">否</td>\n<td align=\"left\">array</td>\n<td align=\"left\"></td>\n<td align=\"left\">签署日期位置信息 （signDateBean不为空时，必填）</td>\n</tr>\n<tr>\n<td align=\"left\">posPage</td>\n<td align=\"center\">否</td>\n<td align=\"left\">String</td>\n<td align=\"left\">64</td>\n<td align=\"left\">页码信息（signDateBean不为空时，必填）</td>\n</tr>\n<tr>\n<td align=\"left\">posX</td>\n<td align=\"center\">否</td>\n<td align=\"left\">String</td>\n<td align=\"left\">64</td>\n<td align=\"left\">x坐标（signDateBean不为空时，必填）</td>\n</tr>\n<tr>\n<td align=\"left\">posY</td>\n<td align=\"center\">否</td>\n<td align=\"left\">String</td>\n<td align=\"left\">64</td>\n<td align=\"left\">y坐标（signDateBean不为空时，必填）</td>\n</tr>\n</tbody></table>\n<h4 id=\"f6630d61473a7a4bc7427dac9f36e93d\">业务参数请求样例</h4>\n<pre><code>{\n    &quot;fileUrl&quot;: &quot;https://cdn.ebaas.com/1615532606479/天机测试.pdf&quot;,\n    &quot;fileName&quot;: &quot;天机测试.pdf&quot;,\n    &quot;notifyUrl&quot;: &quot;https://test-svc.fangyou.com/sharing-contract/sign/etc/return/fy/x/anony/x/fy&quot;,\n    &quot;signValidity&quot;: &quot;1623894057612&quot;,\n    &quot;finishNotifyFlag&quot;: true,\n    &quot;signers&quot;: {\n        &quot;initiatorAccount&quot;: {\n            &quot;signOrder&quot;: 2,\n            &quot;etc_member_no&quot;: &quot;872b5c7a35bb4e2dac397b3460c08264&quot;,\n            &quot;signfields&quot;: [\n                {\n                    &quot;autoExecute&quot;: true,\n                    &quot;signType&quot;: 1,\n                    &quot;actorIndentityType&quot;: &quot;2&quot;,\n                    &quot;width&quot;: &quot;150&quot;,\n                    &quot;signBean&quot;: {\n                        &quot;posBean&quot;: [\n                            {\n                                &quot;posPage&quot;: &quot;1&quot;,\n                                &quot;posX&quot;: &quot;150&quot;,\n                                &quot;posY&quot;: &quot;150&quot;\n                            }\n                        ]\n                    },\n                    &quot;signDateBean&quot;: {\n                        &quot;fontSize&quot;: &quot;10&quot;,\n                        &quot;format&quot;: &quot;yyyy年MM月dd日&quot;,\n                        &quot;posBean&quot;: [\n                            {\n                                &quot;posPage&quot;: &quot;1&quot;,\n                                &quot;posX&quot;: &quot;450&quot;,\n                                &quot;posY&quot;: &quot;450&quot;\n                            }\n                        ]\n                    }\n                },\n                {\n                    &quot;autoExecute&quot;: true,\n                    &quot;signType&quot;: 2,\n                    &quot;actorIndentityType&quot;: &quot;2&quot;,\n                    &quot;width&quot;: &quot;100&quot;,\n                    &quot;signBean&quot;: {\n                        &quot;posBean&quot;: [\n                            {\n                                &quot;posPage&quot;: &quot;all&quot;,\n                                &quot;posX&quot;: &quot;150&quot;,\n                                &quot;posY&quot;: &quot;150&quot;\n                            }\n                        ]\n                    }                 \n                }\n            ]\n        },\n        &quot;signerAccount&quot;: [\n            {\n                &quot;signOrder&quot;: 1,\n                &quot;name&quot;: &quot;陈&quot;,\n                &quot;idNumber&quot;: &quot;340000000000000000&quot;,\n                &quot;mobile&quot;: &quot;18500000000&quot;,\n                &quot;signfields&quot;: {\n                    &quot;signType&quot;: 1,\n                    &quot;width&quot;: &quot;150&quot;,\n                    &quot;sealType&quot;: &quot;0&quot;,\n                    &quot;signBean&quot;: {\n                        &quot;posBean&quot;: [\n                            {\n                                &quot;posPage&quot;: &quot;1&quot;,\n                                &quot;posX&quot;: &quot;450&quot;,\n                                &quot;posY&quot;: &quot;450&quot;\n                            }\n                        ]\n                    },\n                    &quot;signDateBean&quot;: {\n                        &quot;fontSize&quot;: &quot;10&quot;,\n                        &quot;format&quot;: &quot;yyyy年MM月dd日&quot;,\n                        &quot;posBean&quot;: [\n                            {\n                                &quot;posPage&quot;: &quot;1&quot;,\n                                &quot;posX&quot;: &quot;450&quot;,\n                                &quot;posY&quot;: &quot;450&quot;\n                            }\n                        ]\n                    }\n                }\n            }\n        ]\n    }\n}</code></pre>\n<h4 id=\"7d12935d63aa0b4e288789617f0acdf4\">应答报文</h4>\n<table>\n<thead>\n<tr>\n<th align=\"left\">参数</th>\n<th align=\"left\">类型</th>\n<th align=\"left\">最大长度</th>\n<th align=\"left\">参数描述</th>\n<th align=\"left\">示例值</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">flowRequestId</td>\n<td align=\"left\">String</td>\n<td align=\"left\">64</td>\n<td align=\"left\">流程请求id, <br/>其余接口中的流程id，在一步发起签署流程结果回调接口中获取，详见“09-ETC回调通知”</td>\n<td align=\"left\"></td>\n</tr>\n</tbody></table>\n<h4 id=\"5eaaff2ccead58f8bad2aaf2b586b3a8\">应答样例</h4>\n<pre><code>{\n    &quot;requestId&quot;: &quot;42dd6c6e-247e-487f-87e8-dd97067b877b&quot;,\n    &quot;responseCode&quot;: &quot;000&quot;,\n    &quot;responseMsg&quot;: &quot;成功&quot;,\n    &quot;data&quot;: {\n        &quot;flowRequestId&quot;: &quot;5zuoUOcBuN0uRusZlsYC&quot;  \n    }\n}</code></pre>\n","key":"f3f67fb8bdbb5a5bb2754a2ad318eca7","fileName":"__docs_05-ETC电子签功能_06-一步发起签署.json","mtimeMs":1656987418000,"birthtimeMs":1656987418000}