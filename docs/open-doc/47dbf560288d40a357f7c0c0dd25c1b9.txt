{"__html":"<h2 id=\"08eea13f7c514674e878bf0ebaa9037e\">网关统一接口调用</h2>\n<h3 id=\"21544c5c35b7a9f86d8b01cd46b13686\">接口说明</h3>\n<ul>\n<li>请求类型 : POST</li>\n</ul>\n<p><strong>域名列表</strong></p>\n<table>\n<thead>\n<tr>\n<th align=\"center\">序号</th>\n<th align=\"center\">环境</th>\n<th align=\"left\">请求地址</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">1</td>\n<td align=\"center\">测试</td>\n<td align=\"left\">test-etc.ebaas.com</td>\n</tr>\n<tr>\n<td align=\"center\">2</td>\n<td align=\"center\">生产</td>\n<td align=\"left\">经纪渠道：openapi.ebaas.com<br/>开发商：gw.leju.com</td>\n</tr>\n</tbody></table>\n<p><strong>请求地址</strong></p>\n<ul>\n<li>/api/gateway</li>\n</ul>\n<h3 id=\"5192b37bb202548e7da11d9b06493b1e\">请求参数</h3>\n<p><code>requestBody</code></p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">参数</th>\n<th align=\"left\">类型</th>\n<th align=\"left\">是否必填</th>\n<th>最大长度</th>\n<th align=\"left\">描述</th>\n<th align=\"left\">示例值</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">app_id</td>\n<td align=\"left\">String</td>\n<td align=\"left\">是</td>\n<td>16</td>\n<td align=\"left\">应用ID；16位字符串（ETC开放平台获取）</td>\n<td align=\"left\">OIG0AF4DMOK2VC2N</td>\n</tr>\n<tr>\n<td align=\"left\">nonce</td>\n<td align=\"left\">String</td>\n<td align=\"left\">是</td>\n<td>6</td>\n<td align=\"left\">6位随机字符</td>\n<td align=\"left\">123AO9</td>\n</tr>\n<tr>\n<td align=\"left\">timestamp</td>\n<td align=\"left\">Long</td>\n<td align=\"left\">是</td>\n<td>13</td>\n<td align=\"left\">13位请求时间戳</td>\n<td align=\"left\">1604990109987</td>\n</tr>\n<tr>\n<td align=\"left\">sign</td>\n<td align=\"left\">String</td>\n<td align=\"left\">是</td>\n<td>255</td>\n<td align=\"left\">将请求参数按字典排序后使用私钥进行RSA签名生成的字符串</td>\n<td align=\"left\">1VUinhsNiIdF+w</td>\n</tr>\n<tr>\n<td align=\"left\">client_sign</td>\n<td align=\"left\">String</td>\n<td align=\"left\">否</td>\n<td></td>\n<td align=\"left\">客户端签名包</td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">api_code</td>\n<td align=\"left\">String</td>\n<td align=\"left\">是</td>\n<td>64</td>\n<td align=\"left\">业务接口code码</td>\n<td align=\"left\">test.add</td>\n</tr>\n<tr>\n<td align=\"left\">request_content</td>\n<td align=\"left\">String</td>\n<td align=\"left\">否</td>\n<td></td>\n<td align=\"left\">业务接口参数</td>\n<td align=\"left\"></td>\n</tr>\n</tbody></table>\n<h3 id=\"32e223459d61a48bbb09632035d771f8\">请求样例</h3>\n<pre><code>{\n  &quot;app_id&quot; : &quot;OIG0AF4DMOK2VC2N&quot;,\n  &quot;nonce&quot; : &quot;123AO9&quot;,\n  &quot;timestamp&quot; : 1604990109987,\n  &quot;sign&quot;: &quot;1VUinhsNiIdF+w2BJ5tChfyxMHOfgPf+4FhJyTH7Mrr/WNx57ndZhWjaal62/WKMf0M49n+WHWbXmb5qY0wyiSSrz5HK/dd/bkDK6BBFLn4IbR3XCF4wxJ48mm8nrRvNQ2MY3RGug1OmmeD8nG5+alpN35sXCgU3aOHyfU5PLfg8=&quot;,\n  &quot;api_code&quot;: &quot;test.add&quot;,\n  &quot;request_content&quot;: &quot;{\\&quot;name\\&quot;: \\&quot;测试\\&quot;}&quot;\n}</code></pre>\n<h3 id=\"162a93214340de536ebff80f208fc363\">响应参数</h3>\n<table>\n<thead>\n<tr>\n<th align=\"left\">参数</th>\n<th align=\"left\">类型</th>\n<th>是否必填</th>\n<th>最大长度</th>\n<th align=\"left\">描述</th>\n<th align=\"left\">示例值</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">request_id</td>\n<td align=\"left\">String</td>\n<td>是</td>\n<td>64</td>\n<td align=\"left\">请求ID</td>\n<td align=\"left\">请求的唯一标识</td>\n</tr>\n<tr>\n<td align=\"left\">code</td>\n<td align=\"left\">String</td>\n<td>是</td>\n<td>32</td>\n<td align=\"left\">响应状态码</td>\n<td align=\"left\">000状态码为成功响应，其他状态码为失败响应</td>\n</tr>\n<tr>\n<td align=\"left\">msg</td>\n<td align=\"left\">String</td>\n<td>否</td>\n<td>255</td>\n<td align=\"left\">响应信息</td>\n<td align=\"left\">成功或失败的错误信息</td>\n</tr>\n<tr>\n<td align=\"left\">data</td>\n<td align=\"left\">JSONObject</td>\n<td>否</td>\n<td></td>\n<td align=\"left\">响应数据</td>\n<td align=\"left\">业务接口返回的响应数据</td>\n</tr>\n</tbody></table>\n<h3 id=\"cada8aba78ee75ec430134577fab9431\">响应样例</h3>\n<p><code>成功样例</code></p>\n<pre><code>{\n  &quot;request_id&quot;: &quot;b372be68-6fa6-4590-b927-a4096e6a05e6&quot;,\n  &quot;code&quot;: &quot;200&quot;,\n  &quot;msg&quot;: &quot;成功&quot;,\n  &quot;data&quot;: [\n    {\n      &quot;testId&quot;: 5,\n      &quot;testName&quot;: &quot;测试&quot;\n    }\n  ]\n}</code></pre>\n<p><code>失败样例</code></p>\n<pre><code>{\n  &quot;request_id&quot;: &quot;42dd6c6e-247e-487f-87e8-dd97067b877b&quot;,\n  &quot;code&quot;: &quot;401001&quot;,\n  &quot;msg&quot;: &quot;验证签名失败&quot;,\n  &quot;data&quot;: null\n}</code></pre>\n<h3 id=\"c6fe807665973728cd351ad55559de9d\">网关错误码</h3>\n<table>\n<thead>\n<tr>\n<th align=\"left\">错误码</th>\n<th align=\"left\">错误描述</th>\n<th align=\"left\">解决方案</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">400</td>\n<td align=\"left\">参数{paramName}不能为空</td>\n<td align=\"left\">检查参数名称是否正确，参数是否赋值</td>\n</tr>\n<tr>\n<td align=\"left\">400001</td>\n<td align=\"left\">appId不正确</td>\n<td align=\"left\">检查appId是否正确</td>\n</tr>\n<tr>\n<td align=\"left\">400002</td>\n<td align=\"left\">接口已停用</td>\n<td align=\"left\">联系管理员</td>\n</tr>\n<tr>\n<td align=\"left\">401001</td>\n<td align=\"left\">验证签名失败{errorMsg}</td>\n<td align=\"left\">检查待签名的字符串格式是否正确，检查待签名的字符串是否和当前的签名匹配或根据错误信息处理</td>\n</tr>\n<tr>\n<td align=\"left\">401002</td>\n<td align=\"left\">无权限访问当前接口</td>\n<td align=\"left\">检查账号是否有权限或联系管理员</td>\n</tr>\n<tr>\n<td align=\"left\">403001</td>\n<td align=\"left\">请求时间非法或已过期</td>\n<td align=\"left\">检查请求时间戳timestamp是否正确，请求有效时间应小于系统时间且在30秒内</td>\n</tr>\n<tr>\n<td align=\"left\">403002</td>\n<td align=\"left\">请勿重复请求</td>\n<td align=\"left\">使用一个新的临时随机数nonce或等待60秒后重新请求</td>\n</tr>\n<tr>\n<td align=\"left\">404001</td>\n<td align=\"left\">接口不存在</td>\n<td align=\"left\">检查apiCode是否正确或联系管理员</td>\n</tr>\n<tr>\n<td align=\"left\">500004</td>\n<td align=\"left\">业务接口连接被拒绝</td>\n<td align=\"left\">重试或联系管理员</td>\n</tr>\n<tr>\n<td align=\"left\">500005</td>\n<td align=\"left\">业务接口连接超时</td>\n<td align=\"left\">重试或联系管理员</td>\n</tr>\n<tr>\n<td align=\"left\">500006</td>\n<td align=\"left\">业务接口响应超时</td>\n<td align=\"left\">重试或联系管理员</td>\n</tr>\n<tr>\n<td align=\"left\">500007</td>\n<td align=\"left\">业务接口响应数据格式不正确</td>\n<td align=\"left\">重试或联系管理员</td>\n</tr>\n<tr>\n<td align=\"left\">500008</td>\n<td align=\"left\">业务接口无响应</td>\n<td align=\"left\">重试或联系管理员</td>\n</tr>\n<tr>\n<td align=\"left\">500009</td>\n<td align=\"left\">业务接口调用异常</td>\n<td align=\"left\">重试或联系管理员</td>\n</tr>\n<tr>\n<td align=\"left\">500</td>\n<td align=\"left\">系统异常，请稍后再试或联系管理员</td>\n<td align=\"left\">请稍后再试或联系管理员</td>\n</tr>\n</tbody></table>\n","key":"47dbf560288d40a357f7c0c0dd25c1b9","fileName":"__open-docs_01-网关签名_01-网关统一接口调用.json","mtimeMs":1625127790000,"birthtimeMs":1625127790000}