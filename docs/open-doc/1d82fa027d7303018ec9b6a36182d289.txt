{"__html":"<h2 id=\"57c6797be78ae0e46c5d352f39dec719\">各业务端注册事件回调通知接口</h2>\n<p><strong>域名列表</strong></p>\n<table>\n<thead>\n<tr>\n<th>序号</th>\n<th>环境</th>\n<th>请求地址</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>1</td>\n<td>测试</td>\n<td>10.122.153.25:5106</td>\n</tr>\n<tr>\n<td>2</td>\n<td>生产</td>\n<td><a href=\"https://etc-callback.ebaas.com\">https://etc-callback.ebaas.com</a></td>\n</tr>\n</tbody></table>\n<h3 id=\"bf7423604c7d1cb74727db814a6c2698\">请求地址</h3>\n<ul>\n<li>/api/subscription</li>\n</ul>\n<h3 id=\"42ec17a1fb6c3e0a0641ddaa129b04b4\">请求类型</h3>\n<ul>\n<li>POST</li>\n</ul>\n<h3 id=\"152423890cf57695446e2f4000ba5898\">请求参数</h3>\n<p><code>Body</code></p>\n<table>\n<thead>\n<tr>\n<th>字段</th>\n<th>是否必填</th>\n<th>描述</th>\n<th>类型</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>subscriber</td>\n<td>否</td>\n<td>订阅者</td>\n<td>String</td>\n</tr>\n<tr>\n<td>callback_url</td>\n<td>是</td>\n<td>回调地址</td>\n<td>String</td>\n</tr>\n<tr>\n<td>event_key</td>\n<td>是</td>\n<td>订阅事件key，分为四级(a,b,c,d)，可支持顶级开始到任意层级，不支持b,c,d开始，正例：a.b.c,反例：b.c</td>\n<td>String</td>\n</tr>\n<tr>\n<td>is_signature</td>\n<td>否</td>\n<td>是否加签:默认不加签</td>\n<td>bool</td>\n</tr>\n</tbody></table>\n<h3 id=\"1a91abea66120e8d74a53f69af7bbf1a\">请求样例</h3>\n<pre><code class=\"language-json\">{\n    &quot;subscriber&quot;:&quot;yiju&quot;,\n    &quot;callback_url&quot;:&quot;http://www.etc.com&quot;,\n    &quot;event_key&quot;: &quot;a.gs.cert.1&quot;,\n    &quot;is_signature&quot;: false\n}</code></pre>\n<h3 id=\"849e166255a72abc81c99d8bac15f005\">响应参数</h3>\n<table>\n<thead>\n<tr>\n<th>参数</th>\n<th>类型</th>\n<th>描述</th>\n<th>示例值</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>request_id</td>\n<td>String</td>\n<td>请求ID</td>\n<td>请求的唯一标识</td>\n</tr>\n<tr>\n<td>code</td>\n<td>String</td>\n<td>响应状态码</td>\n<td>000状态码为成功响应，其他状态码为失败响应</td>\n</tr>\n<tr>\n<td>msg</td>\n<td>String</td>\n<td>响应信息</td>\n<td>成功或失败的错误信息</td>\n</tr>\n</tbody></table>\n<h3 id=\"ab6b28c2b337dbedfc642eb7fc87266c\">成功样例</h3>\n<pre><code class=\"language-json\">{\n    &quot;request_id&quot;: &quot;b372be68-6fa6-4590-b927-a4096e6a05e6&quot;,\n    &quot;code&quot;: &quot;000&quot;,\n    &quot;msg&quot;: &quot;成功&quot;\n}</code></pre>\n<h3 id=\"5cbf3d26d25a4f3a0f74d129eade62b1\">错误样例</h3>\n<pre><code class=\"language-json\">{\n    &quot;code&quot;: &quot;500&quot;,\n    &quot;msg&quot;: &quot;服务调用异常，请稍后再试或联系管理员&quot;\n}</code></pre>\n<h3 id=\"7a672a2a0aaefe10ae24c90cbe955085\">错误码</h3>\n<table>\n<thead>\n<tr>\n<th>错误码</th>\n<th>错误描述</th>\n<th>解决方案</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>400</td>\n<td>参数{paramName}不能为空</td>\n<td>检查参数名称是否正确，参数是否赋值</td>\n</tr>\n<tr>\n<td>409</td>\n<td>指定事件回调通知已存在存在</td>\n<td>检查参数是否正确</td>\n</tr>\n<tr>\n<td>500</td>\n<td>服务调用异常，请稍后再试或联系管理员</td>\n<td>请稍后再试或联系管理员</td>\n</tr>\n</tbody></table>\n<h3 id=\"94bd0d3d7780f602d150b3621448822a\">事件回调通知流程</h3>\n<pre><code class=\"language-mermaid\">sequenceDiagram\n    participant 事件接收方\n    participant 事件推送方\n    participant 事件回调服务\n\n\n    #创建跨链交易单\n    事件接收方 -&gt;&gt; + 事件回调服务:注册关注事件\n    事件推送方 -&gt;&gt; 事件回调服务: 发送事件变更回调\n    事件回调服务 --&gt;&gt; -事件接收方:推送事件变更</code></pre>\n","key":"1d82fa027d7303018ec9b6a36182d289","docType":"open-doc","fileName":"__open-docs_10-事件回调通知_01-各业务端注册事件回调通知接口.json","mtimeMs":1628479545000,"birthtimeMs":1628479545000}