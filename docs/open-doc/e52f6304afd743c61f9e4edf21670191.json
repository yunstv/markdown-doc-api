{"__html":"<h2 id=\"1458d5c5483e6270044fde60dbb193c3\">文件上传</h2>\n<h4 id=\"401e4d10c32a9cb6dd27c86babb4c42a\">接口说明</h4>\n<ul>\n<li>适用对象 : 渠道参与方</li>\n<li>请求类型 : POST</li>\n<li>apiCode : base.file.batch.upload</li>\n</ul>\n<h4 id=\"3158d628d285a67f3c6fdf21fb87b6b4\">请求参数</h4>\n<p>请求参数类型为<strong>Map</strong></p>\n<table>\n<thead>\n<tr>\n<th>参数</th>\n<th>是否必填</th>\n<th>类型</th>\n<th>最大长度</th>\n<th>参数描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>key</td>\n<td>是</td>\n<td>String</td>\n<td></td>\n<td>map的key，用于响应时和url对应</td>\n</tr>\n<tr>\n<td>value</td>\n<td>是</td>\n<td>Object</td>\n<td></td>\n<td>具体上传文件对象，和单文件上传参数一致</td>\n</tr>\n</tbody></table>\n<p>value类型参数</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">参数</th>\n<th align=\"center\">是否必填</th>\n<th align=\"left\">类型</th>\n<th align=\"left\">最大长度</th>\n<th align=\"left\">参数描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">file_name</td>\n<td align=\"center\">是</td>\n<td align=\"left\">String</td>\n<td align=\"left\">32</td>\n<td align=\"left\">文件名称</td>\n</tr>\n<tr>\n<td align=\"left\">file_type</td>\n<td align=\"center\">是</td>\n<td align=\"left\">String</td>\n<td align=\"left\">32</td>\n<td align=\"left\">文件类型，IMAGE、FILE、VIDEO、VR</td>\n</tr>\n<tr>\n<td align=\"left\">file_sub_type</td>\n<td align=\"center\">否</td>\n<td align=\"left\">String</td>\n<td align=\"left\">32</td>\n<td align=\"left\">图片文件类型，IMAGE: PNG、JPG、BMP、TIFF、WEBP</td>\n</tr>\n<tr>\n<td align=\"left\">file</td>\n<td align=\"center\">否</td>\n<td align=\"left\">String</td>\n<td align=\"left\"></td>\n<td align=\"left\">file需转为Base64，file和file_url不能同时为空，若同时有值时，file优先级更高。<br/>注意不要带图片BASE64前缀“data:image/jpeg;base64,”</td>\n</tr>\n<tr>\n<td align=\"left\">file_url</td>\n<td align=\"center\">否</td>\n<td align=\"left\">String</td>\n<td align=\"left\">200</td>\n<td align=\"left\">可公开访问的文件地址</td>\n</tr>\n<tr>\n<td align=\"left\">is_private</td>\n<td align=\"center\">否</td>\n<td align=\"left\">boolean</td>\n<td align=\"left\">32</td>\n<td align=\"left\">默认为false</td>\n</tr>\n<tr>\n<td align=\"left\">is_repeat_upload</td>\n<td align=\"center\">否</td>\n<td align=\"left\">boolean</td>\n<td align=\"left\">32</td>\n<td align=\"left\">是否重复上传 默认true,<br/>当true时，会根据file_url查找以前是否已经上传过，如果有数据直接返回</td>\n</tr>\n</tbody></table>\n<h4 id=\"e8e7f56c5ab66183c77474d13f08fcc8\">业务参数请求样例</h4>\n<pre><code class=\"language-json\">{\n    &quot;file1&quot;:{\n        &quot;file_name&quot;:&quot;test1.png&quot;,\n        &quot;file_type&quot;:&quot;IMAGE&quot;,\n        &quot;file_sub_type&quot;:&quot;PNG&quot;,\n        &quot;file_url&quot;:&quot;https://cdn.ebaas.com/1626142700370/rrrrr.jpg&quot;,\n        &quot;is_private&quot;:false\n    },\n    &quot;file2&quot;:{\n        &quot;file_name&quot;:&quot;test2.png&quot;,\n        &quot;file_type&quot;:&quot;IMAGE&quot;,\n        &quot;file_sub_type&quot;:&quot;PNG&quot;,\n        &quot;file_url&quot;:&quot;http://test-etc-oss.ebaas.com/test1.png&quot;,\n        &quot;is_private&quot;:false\n    }\n}</code></pre>\n<h4 id=\"9d725a0a86eb635f8a846c349f16f952\">应答报文</h4>\n<p>应答报文类型为<strong>Map</strong></p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">参数</th>\n<th align=\"left\">类型</th>\n<th align=\"left\">最大长度</th>\n<th align=\"left\">参数描述</th>\n<th align=\"left\">示例值</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">key</td>\n<td align=\"left\">String</td>\n<td align=\"left\"></td>\n<td align=\"left\">请求参数Map中的key</td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">value</td>\n<td align=\"left\">String</td>\n<td align=\"left\">200</td>\n<td align=\"left\">文件访问地址</td>\n<td align=\"left\"></td>\n</tr>\n</tbody></table>\n<h4 id=\"4b37f66e88b68a327a50fae9494ab579\">应答样例</h4>\n<pre><code class=\"language-json\">{\n    &quot;requestId&quot;:&quot;eb053acf-66a0-4974-a7b4-2f2354460755&quot;,\n    &quot;code&quot;:&quot;000&quot;,\n    &quot;msg&quot;:&quot;成功&quot;,\n    &quot;data&quot;:{\n        &quot;file1&quot;: &quot;https://test-etc-oss.ebaas.com/1111/IMAGE/1625038994106/aaaaaa!style0.jpg&quot;,\n        &quot;file2&quot;: &quot;https://test-etc-oss.ebaas.com/1111/IMAGE/1625038994106/aaaaaa!style2.jpg&quot;\n    }\n}</code></pre>\n<h3 id=\"1a5a49542bfb11740298545873f9f94e\">返回码</h3>\n<table>\n<thead>\n<tr>\n<th align=\"left\">返回码</th>\n<th align=\"left\">描述</th>\n<th align=\"left\">解决方案</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">400</td>\n<td align=\"left\">参数{paramName}不能为空</td>\n<td align=\"left\">检查参数名称是否正确，参数是否赋值</td>\n</tr>\n<tr>\n<td align=\"left\">400100</td>\n<td align=\"left\">文件上传失败，请重新上传</td>\n<td align=\"left\">重新进行文件上传</td>\n</tr>\n</tbody></table>\n<h3 id=\"f450dfc9bb3254c5e42bb8ad52699c66\">失败处理</h3>\n<p>一张图片处理失败即刻返回失败响应，重新上传需发送全量请求参数，is_repeat_upload参数<strong>不填</strong>或者传<strong>true</strong>，上传成功的图片后台会过滤。</p>\n","key":"e52f6304afd743c61f9e4edf21670191","fileName":"__open-docs_06-文件上传_03-多文件上传.json","mtimeMs":1634894098000,"birthtimeMs":1634894098000}